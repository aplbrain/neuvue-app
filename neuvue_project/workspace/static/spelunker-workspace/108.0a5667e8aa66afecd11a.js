var _e=Object.defineProperty;var Ue=(ni,w,It)=>w in ni?_e(ni,w,{enumerable:!0,configurable:!0,writable:!0,value:It}):ni[w]=It;var d=(ni,w,It)=>Ue(ni,typeof w!="symbol"?w+"":w,It);const Se=108,Te=[108],we={7684:(ni,w,It)=>{It.r(w),It.d(w,{add:()=>Ii,adjoint:()=>S,clone:()=>U,copy:()=>St,create:()=>F,determinant:()=>b,equals:()=>di,exactEquals:()=>oi,frob:()=>pi,fromQuat:()=>Rt,fromQuat2:()=>mt,fromRotation:()=>Yt,fromRotationTranslation:()=>dt,fromRotationTranslationScale:()=>fi,fromRotationTranslationScaleOrigin:()=>k,fromScaling:()=>Ft,fromTranslation:()=>ut,fromValues:()=>g,fromXRotation:()=>X,fromYRotation:()=>ft,fromZRotation:()=>J,frustum:()=>_t,getRotation:()=>Xt,getScaling:()=>ti,getTranslation:()=>Pt,identity:()=>m,invert:()=>L,lookAt:()=>Wt,mul:()=>hi,multiply:()=>R,multiplyScalar:()=>Ai,multiplyScalarAndAdd:()=>xi,ortho:()=>Qt,perspective:()=>jt,perspectiveFromFieldOfView:()=>Ht,rotate:()=>B,rotateX:()=>H,rotateY:()=>yt,rotateZ:()=>vt,scale:()=>W,set:()=>v,str:()=>$t,sub:()=>vi,subtract:()=>ri,targetTo:()=>kt,translate:()=>Y,transpose:()=>P});var N=It(7823);function F(){var t=new N.tb(16);return N.tb!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function U(t){var i=new N.tb(16);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function St(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}function g(t,i,s,a,f,h,o,y,p,M,A,z,T,_,G,q){var E=new N.tb(16);return E[0]=t,E[1]=i,E[2]=s,E[3]=a,E[4]=f,E[5]=h,E[6]=o,E[7]=y,E[8]=p,E[9]=M,E[10]=A,E[11]=z,E[12]=T,E[13]=_,E[14]=G,E[15]=q,E}function v(t,i,s,a,f,h,o,y,p,M,A,z,T,_,G,q,E){return t[0]=i,t[1]=s,t[2]=a,t[3]=f,t[4]=h,t[5]=o,t[6]=y,t[7]=p,t[8]=M,t[9]=A,t[10]=z,t[11]=T,t[12]=_,t[13]=G,t[14]=q,t[15]=E,t}function m(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,i){if(t===i){var s=i[1],a=i[2],f=i[3],h=i[6],o=i[7],y=i[11];t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=s,t[6]=i[9],t[7]=i[13],t[8]=a,t[9]=h,t[11]=i[14],t[12]=f,t[13]=o,t[14]=y}else t[0]=i[0],t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=i[1],t[5]=i[5],t[6]=i[9],t[7]=i[13],t[8]=i[2],t[9]=i[6],t[10]=i[10],t[11]=i[14],t[12]=i[3],t[13]=i[7],t[14]=i[11],t[15]=i[15];return t}function L(t,i){var s=i[0],a=i[1],f=i[2],h=i[3],o=i[4],y=i[5],p=i[6],M=i[7],A=i[8],z=i[9],T=i[10],_=i[11],G=i[12],q=i[13],E=i[14],j=i[15],K=s*y-a*o,rt=s*p-f*o,et=s*M-h*o,nt=a*p-f*y,it=a*M-h*y,Ot=f*M-h*p,Dt=A*q-z*G,zt=A*E-T*G,Et=A*j-_*G,Lt=z*E-T*q,Gt=z*j-_*q,qt=T*j-_*E,ht=K*qt-rt*Gt+et*Lt+nt*Et-it*zt+Ot*Dt;return ht?(ht=1/ht,t[0]=(y*qt-p*Gt+M*Lt)*ht,t[1]=(f*Gt-a*qt-h*Lt)*ht,t[2]=(q*Ot-E*it+j*nt)*ht,t[3]=(T*it-z*Ot-_*nt)*ht,t[4]=(p*Et-o*qt-M*zt)*ht,t[5]=(s*qt-f*Et+h*zt)*ht,t[6]=(E*et-G*Ot-j*rt)*ht,t[7]=(A*Ot-T*et+_*rt)*ht,t[8]=(o*Gt-y*Et+M*Dt)*ht,t[9]=(a*Et-s*Gt-h*Dt)*ht,t[10]=(G*it-q*et+j*K)*ht,t[11]=(z*et-A*it-_*K)*ht,t[12]=(y*zt-o*Lt-p*Dt)*ht,t[13]=(s*Lt-a*zt+f*Dt)*ht,t[14]=(q*rt-G*nt-E*K)*ht,t[15]=(A*nt-z*rt+T*K)*ht,t):null}function S(t,i){var s=i[0],a=i[1],f=i[2],h=i[3],o=i[4],y=i[5],p=i[6],M=i[7],A=i[8],z=i[9],T=i[10],_=i[11],G=i[12],q=i[13],E=i[14],j=i[15];return t[0]=y*(T*j-_*E)-z*(p*j-M*E)+q*(p*_-M*T),t[1]=-(a*(T*j-_*E)-z*(f*j-h*E)+q*(f*_-h*T)),t[2]=a*(p*j-M*E)-y*(f*j-h*E)+q*(f*M-h*p),t[3]=-(a*(p*_-M*T)-y*(f*_-h*T)+z*(f*M-h*p)),t[4]=-(o*(T*j-_*E)-A*(p*j-M*E)+G*(p*_-M*T)),t[5]=s*(T*j-_*E)-A*(f*j-h*E)+G*(f*_-h*T),t[6]=-(s*(p*j-M*E)-o*(f*j-h*E)+G*(f*M-h*p)),t[7]=s*(p*_-M*T)-o*(f*_-h*T)+A*(f*M-h*p),t[8]=o*(z*j-_*q)-A*(y*j-M*q)+G*(y*_-M*z),t[9]=-(s*(z*j-_*q)-A*(a*j-h*q)+G*(a*_-h*z)),t[10]=s*(y*j-M*q)-o*(a*j-h*q)+G*(a*M-h*y),t[11]=-(s*(y*_-M*z)-o*(a*_-h*z)+A*(a*M-h*y)),t[12]=-(o*(z*E-T*q)-A*(y*E-p*q)+G*(y*T-p*z)),t[13]=s*(z*E-T*q)-A*(a*E-f*q)+G*(a*T-f*z),t[14]=-(s*(y*E-p*q)-o*(a*E-f*q)+G*(a*p-f*y)),t[15]=s*(y*T-p*z)-o*(a*T-f*z)+A*(a*p-f*y),t}function b(t){var i=t[0],s=t[1],a=t[2],f=t[3],h=t[4],o=t[5],y=t[6],p=t[7],M=t[8],A=t[9],z=t[10],T=t[11],_=t[12],G=t[13],q=t[14],E=t[15],j=i*o-s*h,K=i*y-a*h,rt=i*p-f*h,et=s*y-a*o,nt=s*p-f*o,it=a*p-f*y,Ot=M*G-A*_,Dt=M*q-z*_,zt=M*E-T*_,Et=A*q-z*G,Lt=A*E-T*G,Gt=z*E-T*q;return j*Gt-K*Lt+rt*Et+et*zt-nt*Dt+it*Ot}function R(t,i,s){var a=i[0],f=i[1],h=i[2],o=i[3],y=i[4],p=i[5],M=i[6],A=i[7],z=i[8],T=i[9],_=i[10],G=i[11],q=i[12],E=i[13],j=i[14],K=i[15],rt=s[0],et=s[1],nt=s[2],it=s[3];return t[0]=rt*a+et*y+nt*z+it*q,t[1]=rt*f+et*p+nt*T+it*E,t[2]=rt*h+et*M+nt*_+it*j,t[3]=rt*o+et*A+nt*G+it*K,rt=s[4],et=s[5],nt=s[6],it=s[7],t[4]=rt*a+et*y+nt*z+it*q,t[5]=rt*f+et*p+nt*T+it*E,t[6]=rt*h+et*M+nt*_+it*j,t[7]=rt*o+et*A+nt*G+it*K,rt=s[8],et=s[9],nt=s[10],it=s[11],t[8]=rt*a+et*y+nt*z+it*q,t[9]=rt*f+et*p+nt*T+it*E,t[10]=rt*h+et*M+nt*_+it*j,t[11]=rt*o+et*A+nt*G+it*K,rt=s[12],et=s[13],nt=s[14],it=s[15],t[12]=rt*a+et*y+nt*z+it*q,t[13]=rt*f+et*p+nt*T+it*E,t[14]=rt*h+et*M+nt*_+it*j,t[15]=rt*o+et*A+nt*G+it*K,t}function Y(t,i,s){var a=s[0],f=s[1],h=s[2],o,y,p,M,A,z,T,_,G,q,E,j;return i===t?(t[12]=i[0]*a+i[4]*f+i[8]*h+i[12],t[13]=i[1]*a+i[5]*f+i[9]*h+i[13],t[14]=i[2]*a+i[6]*f+i[10]*h+i[14],t[15]=i[3]*a+i[7]*f+i[11]*h+i[15]):(o=i[0],y=i[1],p=i[2],M=i[3],A=i[4],z=i[5],T=i[6],_=i[7],G=i[8],q=i[9],E=i[10],j=i[11],t[0]=o,t[1]=y,t[2]=p,t[3]=M,t[4]=A,t[5]=z,t[6]=T,t[7]=_,t[8]=G,t[9]=q,t[10]=E,t[11]=j,t[12]=o*a+A*f+G*h+i[12],t[13]=y*a+z*f+q*h+i[13],t[14]=p*a+T*f+E*h+i[14],t[15]=M*a+_*f+j*h+i[15]),t}function W(t,i,s){var a=s[0],f=s[1],h=s[2];return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=i[3]*a,t[4]=i[4]*f,t[5]=i[5]*f,t[6]=i[6]*f,t[7]=i[7]*f,t[8]=i[8]*h,t[9]=i[9]*h,t[10]=i[10]*h,t[11]=i[11]*h,t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}function B(t,i,s,a){var f=a[0],h=a[1],o=a[2],y=Math.hypot(f,h,o),p,M,A,z,T,_,G,q,E,j,K,rt,et,nt,it,Ot,Dt,zt,Et,Lt,Gt,qt,ht,ii;return y<N.p8?null:(y=1/y,f*=y,h*=y,o*=y,p=Math.sin(s),M=Math.cos(s),A=1-M,z=i[0],T=i[1],_=i[2],G=i[3],q=i[4],E=i[5],j=i[6],K=i[7],rt=i[8],et=i[9],nt=i[10],it=i[11],Ot=f*f*A+M,Dt=h*f*A+o*p,zt=o*f*A-h*p,Et=f*h*A-o*p,Lt=h*h*A+M,Gt=o*h*A+f*p,qt=f*o*A+h*p,ht=h*o*A-f*p,ii=o*o*A+M,t[0]=z*Ot+q*Dt+rt*zt,t[1]=T*Ot+E*Dt+et*zt,t[2]=_*Ot+j*Dt+nt*zt,t[3]=G*Ot+K*Dt+it*zt,t[4]=z*Et+q*Lt+rt*Gt,t[5]=T*Et+E*Lt+et*Gt,t[6]=_*Et+j*Lt+nt*Gt,t[7]=G*Et+K*Lt+it*Gt,t[8]=z*qt+q*ht+rt*ii,t[9]=T*qt+E*ht+et*ii,t[10]=_*qt+j*ht+nt*ii,t[11]=G*qt+K*ht+it*ii,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t)}function H(t,i,s){var a=Math.sin(s),f=Math.cos(s),h=i[4],o=i[5],y=i[6],p=i[7],M=i[8],A=i[9],z=i[10],T=i[11];return i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[4]=h*f+M*a,t[5]=o*f+A*a,t[6]=y*f+z*a,t[7]=p*f+T*a,t[8]=M*f-h*a,t[9]=A*f-o*a,t[10]=z*f-y*a,t[11]=T*f-p*a,t}function yt(t,i,s){var a=Math.sin(s),f=Math.cos(s),h=i[0],o=i[1],y=i[2],p=i[3],M=i[8],A=i[9],z=i[10],T=i[11];return i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[0]=h*f-M*a,t[1]=o*f-A*a,t[2]=y*f-z*a,t[3]=p*f-T*a,t[8]=h*a+M*f,t[9]=o*a+A*f,t[10]=y*a+z*f,t[11]=p*a+T*f,t}function vt(t,i,s){var a=Math.sin(s),f=Math.cos(s),h=i[0],o=i[1],y=i[2],p=i[3],M=i[4],A=i[5],z=i[6],T=i[7];return i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[0]=h*f+M*a,t[1]=o*f+A*a,t[2]=y*f+z*a,t[3]=p*f+T*a,t[4]=M*f-h*a,t[5]=A*f-o*a,t[6]=z*f-y*a,t[7]=T*f-p*a,t}function ut(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function Ft(t,i){return t[0]=i[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=i[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yt(t,i,s){var a=s[0],f=s[1],h=s[2],o=Math.hypot(a,f,h),y,p,M;return o<N.p8?null:(o=1/o,a*=o,f*=o,h*=o,y=Math.sin(i),p=Math.cos(i),M=1-p,t[0]=a*a*M+p,t[1]=f*a*M+h*y,t[2]=h*a*M-f*y,t[3]=0,t[4]=a*f*M-h*y,t[5]=f*f*M+p,t[6]=h*f*M+a*y,t[7]=0,t[8]=a*h*M+f*y,t[9]=f*h*M-a*y,t[10]=h*h*M+p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function X(t,i){var s=Math.sin(i),a=Math.cos(i);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=s,t[7]=0,t[8]=0,t[9]=-s,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ft(t,i){var s=Math.sin(i),a=Math.cos(i);return t[0]=a,t[1]=0,t[2]=-s,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=s,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function J(t,i){var s=Math.sin(i),a=Math.cos(i);return t[0]=a,t[1]=s,t[2]=0,t[3]=0,t[4]=-s,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function dt(t,i,s){var a=i[0],f=i[1],h=i[2],o=i[3],y=a+a,p=f+f,M=h+h,A=a*y,z=a*p,T=a*M,_=f*p,G=f*M,q=h*M,E=o*y,j=o*p,K=o*M;return t[0]=1-(_+q),t[1]=z+K,t[2]=T-j,t[3]=0,t[4]=z-K,t[5]=1-(A+q),t[6]=G+E,t[7]=0,t[8]=T+j,t[9]=G-E,t[10]=1-(A+_),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}function mt(t,i){var s=new N.tb(3),a=-i[0],f=-i[1],h=-i[2],o=i[3],y=i[4],p=i[5],M=i[6],A=i[7],z=a*a+f*f+h*h+o*o;return z>0?(s[0]=(y*o+A*a+p*h-M*f)*2/z,s[1]=(p*o+A*f+M*a-y*h)*2/z,s[2]=(M*o+A*h+y*f-p*a)*2/z):(s[0]=(y*o+A*a+p*h-M*f)*2,s[1]=(p*o+A*f+M*a-y*h)*2,s[2]=(M*o+A*h+y*f-p*a)*2),dt(t,i,s),t}function Pt(t,i){return t[0]=i[12],t[1]=i[13],t[2]=i[14],t}function ti(t,i){var s=i[0],a=i[1],f=i[2],h=i[4],o=i[5],y=i[6],p=i[8],M=i[9],A=i[10];return t[0]=Math.hypot(s,a,f),t[1]=Math.hypot(h,o,y),t[2]=Math.hypot(p,M,A),t}function Xt(t,i){var s=new N.tb(3);ti(s,i);var a=1/s[0],f=1/s[1],h=1/s[2],o=i[0]*a,y=i[1]*f,p=i[2]*h,M=i[4]*a,A=i[5]*f,z=i[6]*h,T=i[8]*a,_=i[9]*f,G=i[10]*h,q=o+A+G,E=0;return q>0?(E=Math.sqrt(q+1)*2,t[3]=.25*E,t[0]=(z-_)/E,t[1]=(T-p)/E,t[2]=(y-M)/E):o>A&&o>G?(E=Math.sqrt(1+o-A-G)*2,t[3]=(z-_)/E,t[0]=.25*E,t[1]=(y+M)/E,t[2]=(T+p)/E):A>G?(E=Math.sqrt(1+A-o-G)*2,t[3]=(T-p)/E,t[0]=(y+M)/E,t[1]=.25*E,t[2]=(z+_)/E):(E=Math.sqrt(1+G-o-A)*2,t[3]=(y-M)/E,t[0]=(T+p)/E,t[1]=(z+_)/E,t[2]=.25*E),t}function fi(t,i,s,a){var f=i[0],h=i[1],o=i[2],y=i[3],p=f+f,M=h+h,A=o+o,z=f*p,T=f*M,_=f*A,G=h*M,q=h*A,E=o*A,j=y*p,K=y*M,rt=y*A,et=a[0],nt=a[1],it=a[2];return t[0]=(1-(G+E))*et,t[1]=(T+rt)*et,t[2]=(_-K)*et,t[3]=0,t[4]=(T-rt)*nt,t[5]=(1-(z+E))*nt,t[6]=(q+j)*nt,t[7]=0,t[8]=(_+K)*it,t[9]=(q-j)*it,t[10]=(1-(z+G))*it,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}function k(t,i,s,a,f){var h=i[0],o=i[1],y=i[2],p=i[3],M=h+h,A=o+o,z=y+y,T=h*M,_=h*A,G=h*z,q=o*A,E=o*z,j=y*z,K=p*M,rt=p*A,et=p*z,nt=a[0],it=a[1],Ot=a[2],Dt=f[0],zt=f[1],Et=f[2],Lt=(1-(q+j))*nt,Gt=(_+et)*nt,qt=(G-rt)*nt,ht=(_-et)*it,ii=(1-(T+j))*it,gi=(E+K)*it,li=(G+rt)*Ot,Mi=(E-K)*Ot,Ti=(1-(T+q))*Ot;return t[0]=Lt,t[1]=Gt,t[2]=qt,t[3]=0,t[4]=ht,t[5]=ii,t[6]=gi,t[7]=0,t[8]=li,t[9]=Mi,t[10]=Ti,t[11]=0,t[12]=s[0]+Dt-(Lt*Dt+ht*zt+li*Et),t[13]=s[1]+zt-(Gt*Dt+ii*zt+Mi*Et),t[14]=s[2]+Et-(qt*Dt+gi*zt+Ti*Et),t[15]=1,t}function Rt(t,i){var s=i[0],a=i[1],f=i[2],h=i[3],o=s+s,y=a+a,p=f+f,M=s*o,A=a*o,z=a*y,T=f*o,_=f*y,G=f*p,q=h*o,E=h*y,j=h*p;return t[0]=1-z-G,t[1]=A+j,t[2]=T-E,t[3]=0,t[4]=A-j,t[5]=1-M-G,t[6]=_+q,t[7]=0,t[8]=T+E,t[9]=_-q,t[10]=1-M-z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _t(t,i,s,a,f,h,o){var y=1/(s-i),p=1/(f-a),M=1/(h-o);return t[0]=h*2*y,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h*2*p,t[6]=0,t[7]=0,t[8]=(s+i)*y,t[9]=(f+a)*p,t[10]=(o+h)*M,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*h*2*M,t[15]=0,t}function jt(t,i,s,a,f){var h=1/Math.tan(i/2),o;return t[0]=h/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,f!=null&&f!==1/0?(o=1/(a-f),t[10]=(f+a)*o,t[14]=2*f*a*o):(t[10]=-1,t[14]=-2*a),t}function Ht(t,i,s,a){var f=Math.tan(i.upDegrees*Math.PI/180),h=Math.tan(i.downDegrees*Math.PI/180),o=Math.tan(i.leftDegrees*Math.PI/180),y=Math.tan(i.rightDegrees*Math.PI/180),p=2/(o+y),M=2/(f+h);return t[0]=p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=-((o-y)*p*.5),t[9]=(f-h)*M*.5,t[10]=a/(s-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s/(s-a),t[15]=0,t}function Qt(t,i,s,a,f,h,o){var y=1/(i-s),p=1/(a-f),M=1/(h-o);return t[0]=-2*y,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*p,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(i+s)*y,t[13]=(f+a)*p,t[14]=(o+h)*M,t[15]=1,t}function Wt(t,i,s,a){var f,h,o,y,p,M,A,z,T,_,G=i[0],q=i[1],E=i[2],j=a[0],K=a[1],rt=a[2],et=s[0],nt=s[1],it=s[2];return Math.abs(G-et)<N.p8&&Math.abs(q-nt)<N.p8&&Math.abs(E-it)<N.p8?m(t):(A=G-et,z=q-nt,T=E-it,_=1/Math.hypot(A,z,T),A*=_,z*=_,T*=_,f=K*T-rt*z,h=rt*A-j*T,o=j*z-K*A,_=Math.hypot(f,h,o),_?(_=1/_,f*=_,h*=_,o*=_):(f=0,h=0,o=0),y=z*o-T*h,p=T*f-A*o,M=A*h-z*f,_=Math.hypot(y,p,M),_?(_=1/_,y*=_,p*=_,M*=_):(y=0,p=0,M=0),t[0]=f,t[1]=y,t[2]=A,t[3]=0,t[4]=h,t[5]=p,t[6]=z,t[7]=0,t[8]=o,t[9]=M,t[10]=T,t[11]=0,t[12]=-(f*G+h*q+o*E),t[13]=-(y*G+p*q+M*E),t[14]=-(A*G+z*q+T*E),t[15]=1,t)}function kt(t,i,s,a){var f=i[0],h=i[1],o=i[2],y=a[0],p=a[1],M=a[2],A=f-s[0],z=h-s[1],T=o-s[2],_=A*A+z*z+T*T;_>0&&(_=1/Math.sqrt(_),A*=_,z*=_,T*=_);var G=p*T-M*z,q=M*A-y*T,E=y*z-p*A;return _=G*G+q*q+E*E,_>0&&(_=1/Math.sqrt(_),G*=_,q*=_,E*=_),t[0]=G,t[1]=q,t[2]=E,t[3]=0,t[4]=z*E-T*q,t[5]=T*G-A*E,t[6]=A*q-z*G,t[7]=0,t[8]=A,t[9]=z,t[10]=T,t[11]=0,t[12]=f,t[13]=h,t[14]=o,t[15]=1,t}function $t(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function pi(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Ii(t,i,s){return t[0]=i[0]+s[0],t[1]=i[1]+s[1],t[2]=i[2]+s[2],t[3]=i[3]+s[3],t[4]=i[4]+s[4],t[5]=i[5]+s[5],t[6]=i[6]+s[6],t[7]=i[7]+s[7],t[8]=i[8]+s[8],t[9]=i[9]+s[9],t[10]=i[10]+s[10],t[11]=i[11]+s[11],t[12]=i[12]+s[12],t[13]=i[13]+s[13],t[14]=i[14]+s[14],t[15]=i[15]+s[15],t}function ri(t,i,s){return t[0]=i[0]-s[0],t[1]=i[1]-s[1],t[2]=i[2]-s[2],t[3]=i[3]-s[3],t[4]=i[4]-s[4],t[5]=i[5]-s[5],t[6]=i[6]-s[6],t[7]=i[7]-s[7],t[8]=i[8]-s[8],t[9]=i[9]-s[9],t[10]=i[10]-s[10],t[11]=i[11]-s[11],t[12]=i[12]-s[12],t[13]=i[13]-s[13],t[14]=i[14]-s[14],t[15]=i[15]-s[15],t}function Ai(t,i,s){return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=i[3]*s,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=i[7]*s,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=i[11]*s,t[12]=i[12]*s,t[13]=i[13]*s,t[14]=i[14]*s,t[15]=i[15]*s,t}function xi(t,i,s,a){return t[0]=i[0]+s[0]*a,t[1]=i[1]+s[1]*a,t[2]=i[2]+s[2]*a,t[3]=i[3]+s[3]*a,t[4]=i[4]+s[4]*a,t[5]=i[5]+s[5]*a,t[6]=i[6]+s[6]*a,t[7]=i[7]+s[7]*a,t[8]=i[8]+s[8]*a,t[9]=i[9]+s[9]*a,t[10]=i[10]+s[10]*a,t[11]=i[11]+s[11]*a,t[12]=i[12]+s[12]*a,t[13]=i[13]+s[13]*a,t[14]=i[14]+s[14]*a,t[15]=i[15]+s[15]*a,t}function oi(t,i){return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]&&t[4]===i[4]&&t[5]===i[5]&&t[6]===i[6]&&t[7]===i[7]&&t[8]===i[8]&&t[9]===i[9]&&t[10]===i[10]&&t[11]===i[11]&&t[12]===i[12]&&t[13]===i[13]&&t[14]===i[14]&&t[15]===i[15]}function di(t,i){var s=t[0],a=t[1],f=t[2],h=t[3],o=t[4],y=t[5],p=t[6],M=t[7],A=t[8],z=t[9],T=t[10],_=t[11],G=t[12],q=t[13],E=t[14],j=t[15],K=i[0],rt=i[1],et=i[2],nt=i[3],it=i[4],Ot=i[5],Dt=i[6],zt=i[7],Et=i[8],Lt=i[9],Gt=i[10],qt=i[11],ht=i[12],ii=i[13],gi=i[14],li=i[15];return Math.abs(s-K)<=N.p8*Math.max(1,Math.abs(s),Math.abs(K))&&Math.abs(a-rt)<=N.p8*Math.max(1,Math.abs(a),Math.abs(rt))&&Math.abs(f-et)<=N.p8*Math.max(1,Math.abs(f),Math.abs(et))&&Math.abs(h-nt)<=N.p8*Math.max(1,Math.abs(h),Math.abs(nt))&&Math.abs(o-it)<=N.p8*Math.max(1,Math.abs(o),Math.abs(it))&&Math.abs(y-Ot)<=N.p8*Math.max(1,Math.abs(y),Math.abs(Ot))&&Math.abs(p-Dt)<=N.p8*Math.max(1,Math.abs(p),Math.abs(Dt))&&Math.abs(M-zt)<=N.p8*Math.max(1,Math.abs(M),Math.abs(zt))&&Math.abs(A-Et)<=N.p8*Math.max(1,Math.abs(A),Math.abs(Et))&&Math.abs(z-Lt)<=N.p8*Math.max(1,Math.abs(z),Math.abs(Lt))&&Math.abs(T-Gt)<=N.p8*Math.max(1,Math.abs(T),Math.abs(Gt))&&Math.abs(_-qt)<=N.p8*Math.max(1,Math.abs(_),Math.abs(qt))&&Math.abs(G-ht)<=N.p8*Math.max(1,Math.abs(G),Math.abs(ht))&&Math.abs(q-ii)<=N.p8*Math.max(1,Math.abs(q),Math.abs(ii))&&Math.abs(E-gi)<=N.p8*Math.max(1,Math.abs(E),Math.abs(gi))&&Math.abs(j-li)<=N.p8*Math.max(1,Math.abs(j),Math.abs(li))}var hi=R,vi=ri},329:(ni,w,It)=>{It.r(w),It.d(w,{add:()=>P,angle:()=>Wt,bezier:()=>Xt,ceil:()=>R,clone:()=>U,copy:()=>v,create:()=>F,cross:()=>mt,dist:()=>oi,distance:()=>ut,div:()=>xi,divide:()=>b,dot:()=>dt,equals:()=>Ii,exactEquals:()=>pi,floor:()=>Y,forEach:()=>t,fromValues:()=>g,hermite:()=>ti,inverse:()=>ft,len:()=>hi,length:()=>St,lerp:()=>Pt,max:()=>B,min:()=>W,mul:()=>Ai,multiply:()=>S,negate:()=>X,normalize:()=>J,random:()=>fi,rotateX:()=>jt,rotateY:()=>Ht,rotateZ:()=>Qt,round:()=>H,scale:()=>yt,scaleAndAdd:()=>vt,set:()=>m,sqrDist:()=>di,sqrLen:()=>vi,squaredDistance:()=>Ft,squaredLength:()=>Yt,str:()=>$t,sub:()=>ri,subtract:()=>L,transformMat3:()=>Rt,transformMat4:()=>k,transformQuat:()=>_t,zero:()=>kt});var N=It(7823);function F(){var i=new N.tb(3);return N.tb!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function U(i){var s=new N.tb(3);return s[0]=i[0],s[1]=i[1],s[2]=i[2],s}function St(i){var s=i[0],a=i[1],f=i[2];return Math.hypot(s,a,f)}function g(i,s,a){var f=new N.tb(3);return f[0]=i,f[1]=s,f[2]=a,f}function v(i,s){return i[0]=s[0],i[1]=s[1],i[2]=s[2],i}function m(i,s,a,f){return i[0]=s,i[1]=a,i[2]=f,i}function P(i,s,a){return i[0]=s[0]+a[0],i[1]=s[1]+a[1],i[2]=s[2]+a[2],i}function L(i,s,a){return i[0]=s[0]-a[0],i[1]=s[1]-a[1],i[2]=s[2]-a[2],i}function S(i,s,a){return i[0]=s[0]*a[0],i[1]=s[1]*a[1],i[2]=s[2]*a[2],i}function b(i,s,a){return i[0]=s[0]/a[0],i[1]=s[1]/a[1],i[2]=s[2]/a[2],i}function R(i,s){return i[0]=Math.ceil(s[0]),i[1]=Math.ceil(s[1]),i[2]=Math.ceil(s[2]),i}function Y(i,s){return i[0]=Math.floor(s[0]),i[1]=Math.floor(s[1]),i[2]=Math.floor(s[2]),i}function W(i,s,a){return i[0]=Math.min(s[0],a[0]),i[1]=Math.min(s[1],a[1]),i[2]=Math.min(s[2],a[2]),i}function B(i,s,a){return i[0]=Math.max(s[0],a[0]),i[1]=Math.max(s[1],a[1]),i[2]=Math.max(s[2],a[2]),i}function H(i,s){return i[0]=Math.round(s[0]),i[1]=Math.round(s[1]),i[2]=Math.round(s[2]),i}function yt(i,s,a){return i[0]=s[0]*a,i[1]=s[1]*a,i[2]=s[2]*a,i}function vt(i,s,a,f){return i[0]=s[0]+a[0]*f,i[1]=s[1]+a[1]*f,i[2]=s[2]+a[2]*f,i}function ut(i,s){var a=s[0]-i[0],f=s[1]-i[1],h=s[2]-i[2];return Math.hypot(a,f,h)}function Ft(i,s){var a=s[0]-i[0],f=s[1]-i[1],h=s[2]-i[2];return a*a+f*f+h*h}function Yt(i){var s=i[0],a=i[1],f=i[2];return s*s+a*a+f*f}function X(i,s){return i[0]=-s[0],i[1]=-s[1],i[2]=-s[2],i}function ft(i,s){return i[0]=1/s[0],i[1]=1/s[1],i[2]=1/s[2],i}function J(i,s){var a=s[0],f=s[1],h=s[2],o=a*a+f*f+h*h;return o>0&&(o=1/Math.sqrt(o)),i[0]=s[0]*o,i[1]=s[1]*o,i[2]=s[2]*o,i}function dt(i,s){return i[0]*s[0]+i[1]*s[1]+i[2]*s[2]}function mt(i,s,a){var f=s[0],h=s[1],o=s[2],y=a[0],p=a[1],M=a[2];return i[0]=h*M-o*p,i[1]=o*y-f*M,i[2]=f*p-h*y,i}function Pt(i,s,a,f){var h=s[0],o=s[1],y=s[2];return i[0]=h+f*(a[0]-h),i[1]=o+f*(a[1]-o),i[2]=y+f*(a[2]-y),i}function ti(i,s,a,f,h,o){var y=o*o,p=y*(2*o-3)+1,M=y*(o-2)+o,A=y*(o-1),z=y*(3-2*o);return i[0]=s[0]*p+a[0]*M+f[0]*A+h[0]*z,i[1]=s[1]*p+a[1]*M+f[1]*A+h[1]*z,i[2]=s[2]*p+a[2]*M+f[2]*A+h[2]*z,i}function Xt(i,s,a,f,h,o){var y=1-o,p=y*y,M=o*o,A=p*y,z=3*o*p,T=3*M*y,_=M*o;return i[0]=s[0]*A+a[0]*z+f[0]*T+h[0]*_,i[1]=s[1]*A+a[1]*z+f[1]*T+h[1]*_,i[2]=s[2]*A+a[2]*z+f[2]*T+h[2]*_,i}function fi(i,s){s=s||1;var a=N.Ov()*2*Math.PI,f=N.Ov()*2-1,h=Math.sqrt(1-f*f)*s;return i[0]=Math.cos(a)*h,i[1]=Math.sin(a)*h,i[2]=f*s,i}function k(i,s,a){var f=s[0],h=s[1],o=s[2],y=a[3]*f+a[7]*h+a[11]*o+a[15];return y=y||1,i[0]=(a[0]*f+a[4]*h+a[8]*o+a[12])/y,i[1]=(a[1]*f+a[5]*h+a[9]*o+a[13])/y,i[2]=(a[2]*f+a[6]*h+a[10]*o+a[14])/y,i}function Rt(i,s,a){var f=s[0],h=s[1],o=s[2];return i[0]=f*a[0]+h*a[3]+o*a[6],i[1]=f*a[1]+h*a[4]+o*a[7],i[2]=f*a[2]+h*a[5]+o*a[8],i}function _t(i,s,a){var f=a[0],h=a[1],o=a[2],y=a[3],p=s[0],M=s[1],A=s[2],z=h*A-o*M,T=o*p-f*A,_=f*M-h*p,G=h*_-o*T,q=o*z-f*_,E=f*T-h*z,j=y*2;return z*=j,T*=j,_*=j,G*=2,q*=2,E*=2,i[0]=p+z+G,i[1]=M+T+q,i[2]=A+_+E,i}function jt(i,s,a,f){var h=[],o=[];return h[0]=s[0]-a[0],h[1]=s[1]-a[1],h[2]=s[2]-a[2],o[0]=h[0],o[1]=h[1]*Math.cos(f)-h[2]*Math.sin(f),o[2]=h[1]*Math.sin(f)+h[2]*Math.cos(f),i[0]=o[0]+a[0],i[1]=o[1]+a[1],i[2]=o[2]+a[2],i}function Ht(i,s,a,f){var h=[],o=[];return h[0]=s[0]-a[0],h[1]=s[1]-a[1],h[2]=s[2]-a[2],o[0]=h[2]*Math.sin(f)+h[0]*Math.cos(f),o[1]=h[1],o[2]=h[2]*Math.cos(f)-h[0]*Math.sin(f),i[0]=o[0]+a[0],i[1]=o[1]+a[1],i[2]=o[2]+a[2],i}function Qt(i,s,a,f){var h=[],o=[];return h[0]=s[0]-a[0],h[1]=s[1]-a[1],h[2]=s[2]-a[2],o[0]=h[0]*Math.cos(f)-h[1]*Math.sin(f),o[1]=h[0]*Math.sin(f)+h[1]*Math.cos(f),o[2]=h[2],i[0]=o[0]+a[0],i[1]=o[1]+a[1],i[2]=o[2]+a[2],i}function Wt(i,s){var a=g(i[0],i[1],i[2]),f=g(s[0],s[1],s[2]);J(a,a),J(f,f);var h=dt(a,f);return h>1?0:h<-1?Math.PI:Math.acos(h)}function kt(i){return i[0]=0,i[1]=0,i[2]=0,i}function $t(i){return"vec3("+i[0]+", "+i[1]+", "+i[2]+")"}function pi(i,s){return i[0]===s[0]&&i[1]===s[1]&&i[2]===s[2]}function Ii(i,s){var a=i[0],f=i[1],h=i[2],o=s[0],y=s[1],p=s[2];return Math.abs(a-o)<=N.p8*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(f-y)<=N.p8*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(h-p)<=N.p8*Math.max(1,Math.abs(h),Math.abs(p))}var ri=L,Ai=S,xi=b,oi=ut,di=Ft,hi=St,vi=Yt,t=function(){var i=F();return function(s,a,f,h,o,y){var p,M;for(a||(a=3),f||(f=0),h?M=Math.min(h*a+f,s.length):M=s.length,p=f;p<M;p+=a)i[0]=s[p],i[1]=s[p+1],i[2]=s[p+2],o(i,i,y),s[p]=i[0],s[p+1]=i[1],s[p+2]=i[2];return s}}()},2605:(ni,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.NIFTIEXTENSION=void 0;class It{constructor(F,U,St,g){d(this,"esize");d(this,"ecode");d(this,"edata");d(this,"littleEndian");if(F%16!=0)throw new Error("This does not appear to be a NIFTI extension");this.esize=F,this.ecode=U,this.edata=St,this.littleEndian=g}toArrayBuffer(){let F=new Uint8Array(this.esize),U=new Uint8Array(this.edata);F.set(U,8);let St=new DataView(F.buffer);return St.setInt32(0,this.esize,this.littleEndian),St.setInt32(4,this.ecode,this.littleEndian),F.buffer}}w.NIFTIEXTENSION=It},8053:function(ni,w,It){var N=this&&this.__createBinding||(Object.create?function(X,ft,J,dt){dt===void 0&&(dt=J);var mt=Object.getOwnPropertyDescriptor(ft,J);(!mt||("get"in mt?!ft.__esModule:mt.writable||mt.configurable))&&(mt={enumerable:!0,get:function(){return ft[J]}}),Object.defineProperty(X,dt,mt)}:function(X,ft,J,dt){dt===void 0&&(dt=J),X[dt]=ft[J]}),F=this&&this.__setModuleDefault||(Object.create?function(X,ft){Object.defineProperty(X,"default",{enumerable:!0,value:ft})}:function(X,ft){X.default=ft}),U=this&&this.__importStar||function(X){if(X&&X.__esModule)return X;var ft={};if(X!=null)for(var J in X)J!=="default"&&Object.prototype.hasOwnProperty.call(X,J)&&N(ft,X,J);return F(ft,X),ft};Object.defineProperty(w,"__esModule",{value:!0}),w.readExtensionData=w.readExtension=w.readImage=w.hasExtension=w.readHeader=w.decompress=w.isCompressed=w.isNIFTI=w.isNIFTI2=w.isNIFTI1=w.NIFTIEXTENSION=w.Utils=w.NIFTI2=w.NIFTI1=void 0;const St=U(It(595)),g=It(2186),v=It(5911),m=It(1415);var P=It(2186);Object.defineProperty(w,"NIFTI1",{enumerable:!0,get:function(){return P.NIFTI1}});var L=It(5911);Object.defineProperty(w,"NIFTI2",{enumerable:!0,get:function(){return L.NIFTI2}});var S=It(1415);Object.defineProperty(w,"Utils",{enumerable:!0,get:function(){return S.Utils}});var b=It(2605);Object.defineProperty(w,"NIFTIEXTENSION",{enumerable:!0,get:function(){return b.NIFTIEXTENSION}});function R(X,ft=!1){var J,dt,mt,Pt;return X.byteLength<g.NIFTI1.STANDARD_HEADER_SIZE?!1:(J=new DataView(X),J&&(dt=J.getUint8(g.NIFTI1.MAGIC_NUMBER_LOCATION)),mt=J.getUint8(g.NIFTI1.MAGIC_NUMBER_LOCATION+1),Pt=J.getUint8(g.NIFTI1.MAGIC_NUMBER_LOCATION+2),ft&&dt===g.NIFTI1.MAGIC_NUMBER2[0]&&mt===g.NIFTI1.MAGIC_NUMBER2[1]&&Pt===g.NIFTI1.MAGIC_NUMBER2[2]?!0:dt===g.NIFTI1.MAGIC_NUMBER[0]&&mt===g.NIFTI1.MAGIC_NUMBER[1]&&Pt===g.NIFTI1.MAGIC_NUMBER[2])}w.isNIFTI1=R;function Y(X,ft=!1){var J,dt,mt,Pt;return X.byteLength<g.NIFTI1.STANDARD_HEADER_SIZE?!1:(J=new DataView(X),dt=J.getUint8(v.NIFTI2.MAGIC_NUMBER_LOCATION),mt=J.getUint8(v.NIFTI2.MAGIC_NUMBER_LOCATION+1),Pt=J.getUint8(v.NIFTI2.MAGIC_NUMBER_LOCATION+2),ft&&dt===v.NIFTI2.MAGIC_NUMBER2[0]&&mt===v.NIFTI2.MAGIC_NUMBER2[1]&&Pt===v.NIFTI2.MAGIC_NUMBER2[2]?!0:dt===v.NIFTI2.MAGIC_NUMBER[0]&&mt===v.NIFTI2.MAGIC_NUMBER[1]&&Pt===v.NIFTI2.MAGIC_NUMBER[2])}w.isNIFTI2=Y;function W(X,ft=!1){return R(X,ft)||Y(X,ft)}w.isNIFTI=W;function B(X){var ft,J,dt;return!!(X&&(ft=new DataView(X),J=ft.getUint8(0),dt=ft.getUint8(1),J===m.Utils.GUNZIP_MAGIC_COOKIE1||dt===m.Utils.GUNZIP_MAGIC_COOKIE2))}w.isCompressed=B;function H(X){return St.decompressSync(new Uint8Array(X)).buffer}w.decompress=H;function yt(X,ft=!1){var J=null;return B(X)&&(X=H(X)),R(X,ft)?J=new g.NIFTI1:Y(X,ft)&&(J=new v.NIFTI2),J?J.readHeader(X):console.error("That file does not appear to be NIFTI!"),J}w.readHeader=yt;function vt(X){return X.extensionFlag[0]!=0}w.hasExtension=vt;function ut(X,ft){var J=X.vox_offset,dt=1,mt=1;X.dims[4]&&(dt=X.dims[4]),X.dims[5]&&(mt=X.dims[5]);var Pt=X.dims[1]*X.dims[2]*X.dims[3]*dt*mt*(X.numBitsPerVoxel/8);return ft.slice(J,J+Pt)}w.readImage=ut;function Ft(X,ft){var J=X.getExtensionLocation(),dt=X.extensionSize;return ft.slice(J,J+dt)}w.readExtension=Ft;function Yt(X,ft){var J=X.getExtensionLocation(),dt=X.extensionSize;return ft.slice(J+8,J+dt)}w.readExtensionData=Yt},2186:(ni,w,It)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.NIFTI1=void 0;const N=It(1415),U=class U{constructor(){d(this,"littleEndian",!1);d(this,"dim_info",0);d(this,"dims",[]);d(this,"intent_p1",0);d(this,"intent_p2",0);d(this,"intent_p3",0);d(this,"intent_code",0);d(this,"datatypeCode",0);d(this,"numBitsPerVoxel",0);d(this,"slice_start",0);d(this,"slice_end",0);d(this,"slice_code",0);d(this,"pixDims",[]);d(this,"vox_offset",0);d(this,"scl_slope",1);d(this,"scl_inter",0);d(this,"xyzt_units",0);d(this,"cal_max",0);d(this,"cal_min",0);d(this,"slice_duration",0);d(this,"toffset",0);d(this,"description","");d(this,"aux_file","");d(this,"intent_name","");d(this,"qform_code",0);d(this,"sform_code",0);d(this,"quatern_a",0);d(this,"quatern_b",0);d(this,"quatern_c",0);d(this,"quatern_d",0);d(this,"qoffset_x",0);d(this,"qoffset_y",0);d(this,"qoffset_z",0);d(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);d(this,"qfac",1);d(this,"quatern_R");d(this,"magic","0");d(this,"isHDR",!1);d(this,"extensionFlag",[0,0,0,0]);d(this,"extensionSize",0);d(this,"extensionCode",0);d(this,"extensions",[]);d(this,"getDatatypeCodeString",function(g){return g===U.TYPE_UINT8?"1-Byte Unsigned Integer":g===U.TYPE_INT16?"2-Byte Signed Integer":g===U.TYPE_INT32?"4-Byte Signed Integer":g===U.TYPE_FLOAT32?"4-Byte Float":g===U.TYPE_FLOAT64?"8-Byte Float":g===U.TYPE_RGB24?"RGB":g===U.TYPE_INT8?"1-Byte Signed Integer":g===U.TYPE_UINT16?"2-Byte Unsigned Integer":g===U.TYPE_UINT32?"4-Byte Unsigned Integer":g===U.TYPE_INT64?"8-Byte Signed Integer":g===U.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"});d(this,"getTransformCodeString",function(g){return g===U.XFORM_SCANNER_ANAT?"Scanner":g===U.XFORM_ALIGNED_ANAT?"Aligned":g===U.XFORM_TALAIRACH?"Talairach":g===U.XFORM_MNI_152?"MNI":"Unknown"});d(this,"getUnitsCodeString",function(g){return g===U.UNITS_METER?"Meters":g===U.UNITS_MM?"Millimeters":g===U.UNITS_MICRON?"Microns":g===U.UNITS_SEC?"Seconds":g===U.UNITS_MSEC?"Milliseconds":g===U.UNITS_USEC?"Microseconds":g===U.UNITS_HZ?"Hz":g===U.UNITS_PPM?"PPM":g===U.UNITS_RADS?"Rads":"Unknown"});d(this,"nifti_mat33_mul",function(g,v){var m=[[0,0,0],[0,0,0],[0,0,0]],P,L;for(P=0;P<3;P+=1)for(L=0;L<3;L+=1)m[P][L]=g[P][0]*v[0][L]+g[P][1]*v[1][L]+g[P][2]*v[2][L];return m});d(this,"nifti_mat33_determ",function(g){var v,m,P,L,S,b,R,Y,W;return v=g[0][0],m=g[0][1],P=g[0][2],L=g[1][0],S=g[1][1],b=g[1][2],R=g[2][0],Y=g[2][1],W=g[2][2],v*S*W-v*Y*b-L*m*W+L*Y*P+R*m*b-R*S*P})}readHeader(g){var v=new DataView(g),m=N.Utils.getIntAt(v,0,this.littleEndian),P,L,S,b;if(m!==U.MAGIC_COOKIE&&(this.littleEndian=!0,m=N.Utils.getIntAt(v,0,this.littleEndian)),m!==U.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=N.Utils.getByteAt(v,39),P=0;P<8;P+=1)b=40+P*2,this.dims[P]=N.Utils.getShortAt(v,b,this.littleEndian);for(this.intent_p1=N.Utils.getFloatAt(v,56,this.littleEndian),this.intent_p2=N.Utils.getFloatAt(v,60,this.littleEndian),this.intent_p3=N.Utils.getFloatAt(v,64,this.littleEndian),this.intent_code=N.Utils.getShortAt(v,68,this.littleEndian),this.datatypeCode=N.Utils.getShortAt(v,70,this.littleEndian),this.numBitsPerVoxel=N.Utils.getShortAt(v,72,this.littleEndian),this.slice_start=N.Utils.getShortAt(v,74,this.littleEndian),P=0;P<8;P+=1)b=76+P*4,this.pixDims[P]=N.Utils.getFloatAt(v,b,this.littleEndian);if(this.vox_offset=N.Utils.getFloatAt(v,108,this.littleEndian),this.scl_slope=N.Utils.getFloatAt(v,112,this.littleEndian),this.scl_inter=N.Utils.getFloatAt(v,116,this.littleEndian),this.slice_end=N.Utils.getShortAt(v,120,this.littleEndian),this.slice_code=N.Utils.getByteAt(v,122),this.xyzt_units=N.Utils.getByteAt(v,123),this.cal_max=N.Utils.getFloatAt(v,124,this.littleEndian),this.cal_min=N.Utils.getFloatAt(v,128,this.littleEndian),this.slice_duration=N.Utils.getFloatAt(v,132,this.littleEndian),this.toffset=N.Utils.getFloatAt(v,136,this.littleEndian),this.description=N.Utils.getStringAt(v,148,228),this.aux_file=N.Utils.getStringAt(v,228,252),this.qform_code=N.Utils.getShortAt(v,252,this.littleEndian),this.sform_code=N.Utils.getShortAt(v,254,this.littleEndian),this.quatern_b=N.Utils.getFloatAt(v,256,this.littleEndian),this.quatern_c=N.Utils.getFloatAt(v,260,this.littleEndian),this.quatern_d=N.Utils.getFloatAt(v,264,this.littleEndian),this.quatern_a=Math.sqrt(1-(Math.pow(this.quatern_b,2)+Math.pow(this.quatern_c,2)+Math.pow(this.quatern_d,2))),this.qoffset_x=N.Utils.getFloatAt(v,268,this.littleEndian),this.qoffset_y=N.Utils.getFloatAt(v,272,this.littleEndian),this.qoffset_z=N.Utils.getFloatAt(v,276,this.littleEndian),this.qform_code<1&&this.sform_code<1&&(this.affine[0][0]=this.pixDims[1],this.affine[1][1]=this.pixDims[2],this.affine[2][2]=this.pixDims[3]),this.qform_code>0&&this.sform_code<this.qform_code){const R=this.quatern_a,Y=this.quatern_b,W=this.quatern_c,B=this.quatern_d;for(this.qfac=this.pixDims[0]===0?1:this.pixDims[0],this.quatern_R=[[R*R+Y*Y-W*W-B*B,2*Y*W-2*R*B,2*Y*B+2*R*W],[2*Y*W+2*R*B,R*R+W*W-Y*Y-B*B,2*W*B-2*R*Y],[2*Y*B-2*R*W,2*W*B+2*R*Y,R*R+B*B-W*W-Y*Y]],L=0;L<3;L+=1)for(S=0;S<3;S+=1)this.affine[L][S]=this.quatern_R[L][S]*this.pixDims[S+1],S===2&&(this.affine[L][S]*=this.qfac);this.affine[0][3]=this.qoffset_x,this.affine[1][3]=this.qoffset_y,this.affine[2][3]=this.qoffset_z}else if(this.sform_code>0)for(L=0;L<3;L+=1)for(S=0;S<4;S+=1)b=280+(L*4+S)*4,this.affine[L][S]=N.Utils.getFloatAt(v,b,this.littleEndian);if(this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=N.Utils.getStringAt(v,328,344),this.magic=N.Utils.getStringAt(v,344,348),this.isHDR=this.magic===String.fromCharCode.apply(null,U.MAGIC_NUMBER2),v.byteLength>U.MAGIC_COOKIE){this.extensionFlag[0]=N.Utils.getByteAt(v,348),this.extensionFlag[1]=N.Utils.getByteAt(v,349),this.extensionFlag[2]=N.Utils.getByteAt(v,350),this.extensionFlag[3]=N.Utils.getByteAt(v,351);let R=!0;!this.isHDR&&this.vox_offset<=352&&(R=!1),v.byteLength<=368&&(R=!1),R&&this.extensionFlag[0]&&(this.extensions=N.Utils.getExtensionsAt(v,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode)}}toFormattedString(){var g=N.Utils.formatNumber,v="";return v+="Dim Info = "+this.dim_info+`
`,v+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,v+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,v+="Intent Code = "+this.intent_code+`
`,v+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,v+="Bits Per Voxel = "+this.numBitsPerVoxel+`
`,v+="Slice Start = "+this.slice_start+`
`,v+="Voxel Dimensions (1-8): "+g(this.pixDims[0])+", "+g(this.pixDims[1])+", "+g(this.pixDims[2])+", "+g(this.pixDims[3])+", "+g(this.pixDims[4])+", "+g(this.pixDims[5])+", "+g(this.pixDims[6])+", "+g(this.pixDims[7])+`
`,v+="Image Offset = "+this.vox_offset+`
`,v+="Data Scale:  Slope = "+g(this.scl_slope)+"  Intercept = "+g(this.scl_inter)+`
`,v+="Slice End = "+this.slice_end+`
`,v+="Slice Code = "+this.slice_code+`
`,v+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(U.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(U.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,v+="Display Range:  Max = "+g(this.cal_max)+"  Min = "+g(this.cal_min)+`
`,v+="Slice Duration = "+this.slice_duration+`
`,v+="Time Axis Shift = "+this.toffset+`
`,v+='Description: "'+this.description+`"
`,v+='Auxiliary File: "'+this.aux_file+`"
`,v+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,v+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,v+="Quaternion Parameters:  b = "+g(this.quatern_b)+"  c = "+g(this.quatern_c)+"  d = "+g(this.quatern_d)+`
`,v+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,v+="S-Form Parameters X: "+g(this.affine[0][0])+", "+g(this.affine[0][1])+", "+g(this.affine[0][2])+", "+g(this.affine[0][3])+`
`,v+="S-Form Parameters Y: "+g(this.affine[1][0])+", "+g(this.affine[1][1])+", "+g(this.affine[1][2])+", "+g(this.affine[1][3])+`
`,v+="S-Form Parameters Z: "+g(this.affine[2][0])+", "+g(this.affine[2][1])+", "+g(this.affine[2][2])+", "+g(this.affine[2][3])+`
`,v+='Intent Name: "'+this.intent_name+`"
`,this.extensionFlag[0]&&(v+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+`
`),v}getQformMat(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])}convertNiftiQFormToNiftiSForm(g,v,m,P,L,S,b,R,Y,W){var B=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],H,yt=g,vt=v,ut=m,Ft,Yt,X;return B[3][0]=B[3][1]=B[3][2]=0,B[3][3]=1,H=1-(yt*yt+vt*vt+ut*ut),H<1e-7?(H=1/Math.sqrt(yt*yt+vt*vt+ut*ut),yt*=H,vt*=H,ut*=H,H=0):H=Math.sqrt(H),Ft=b>0?b:1,Yt=R>0?R:1,X=Y>0?Y:1,W<0&&(X=-X),B[0][0]=(H*H+yt*yt-vt*vt-ut*ut)*Ft,B[0][1]=2*(yt*vt-H*ut)*Yt,B[0][2]=2*(yt*ut+H*vt)*X,B[1][0]=2*(yt*vt+H*ut)*Ft,B[1][1]=(H*H+vt*vt-yt*yt-ut*ut)*Yt,B[1][2]=2*(vt*ut-H*yt)*X,B[2][0]=2*(yt*ut-H*vt)*Ft,B[2][1]=2*(vt*ut+H*yt)*Yt,B[2][2]=(H*H+ut*ut-vt*vt-yt*yt)*X,B[0][3]=P,B[1][3]=L,B[2][3]=S,B}convertNiftiSFormToNEMA(g){var v,m,P,L,S,b,R,Y,W,B,H,yt,vt,ut,Ft,Yt,X,ft,J,dt,mt,Pt,ti,Xt,fi,k,Rt,_t,jt,Ht,Qt,Wt,kt,$t;if(Ft=0,Rt=[[0,0,0],[0,0,0],[0,0,0]],_t=[[0,0,0],[0,0,0],[0,0,0]],v=g[0][0],m=g[0][1],P=g[0][2],L=g[1][0],S=g[1][1],b=g[1][2],R=g[2][0],Y=g[2][1],W=g[2][2],B=Math.sqrt(v*v+L*L+R*R),B===0||(v/=B,L/=B,R/=B,B=Math.sqrt(m*m+S*S+Y*Y),B===0))return null;if(m/=B,S/=B,Y/=B,B=v*m+L*S+R*Y,Math.abs(B)>1e-4){if(m-=B*v,S-=B*L,Y-=B*R,B=Math.sqrt(m*m+S*S+Y*Y),B===0)return null;m/=B,S/=B,Y/=B}if(B=Math.sqrt(P*P+b*b+W*W),B===0?(P=L*Y-R*S,b=R*m-Y*v,W=v*S-L*m):(P/=B,b/=B,W/=B),B=v*P+L*b+R*W,Math.abs(B)>1e-4){if(P-=B*v,b-=B*L,W-=B*R,B=Math.sqrt(P*P+b*b+W*W),B===0)return null;P/=B,b/=B,W/=B}if(B=m*P+S*b+Y*W,Math.abs(B)>1e-4){if(P-=B*m,b-=B*S,W-=B*Y,B=Math.sqrt(P*P+b*b+W*W),B===0)return null;P/=B,b/=B,W/=B}if(Rt[0][0]=v,Rt[0][1]=m,Rt[0][2]=P,Rt[1][0]=L,Rt[1][1]=S,Rt[1][2]=b,Rt[2][0]=R,Rt[2][1]=Y,Rt[2][2]=W,H=this.nifti_mat33_determ(Rt),H===0)return null;for(k=-666,J=Pt=ti=Xt=1,dt=2,mt=3,vt=1;vt<=3;vt+=1)for(ut=1;ut<=3;ut+=1)if(vt!==ut){for(Ft=1;Ft<=3;Ft+=1)if(!(vt===Ft||ut===Ft))for(_t[0][0]=_t[0][1]=_t[0][2]=_t[1][0]=_t[1][1]=_t[1][2]=_t[2][0]=_t[2][1]=_t[2][2]=0,Yt=-1;Yt<=1;Yt+=2)for(X=-1;X<=1;X+=2)for(ft=-1;ft<=1;ft+=2)_t[0][vt-1]=Yt,_t[1][ut-1]=X,_t[2][Ft-1]=ft,yt=this.nifti_mat33_determ(_t),yt*H>0&&(fi=this.nifti_mat33_mul(_t,Rt),B=fi[0][0]+fi[1][1]+fi[2][2],B>k&&(k=B,J=vt,dt=ut,mt=Ft,Pt=Yt,ti=X,Xt=ft))}switch(jt=Ht=Qt=Wt=kt=$t="",J*Pt){case 1:jt="X",Wt="+";break;case-1:jt="X",Wt="-";break;case 2:jt="Y",Wt="+";break;case-2:jt="Y",Wt="-";break;case 3:jt="Z",Wt="+";break;case-3:jt="Z",Wt="-";break}switch(dt*ti){case 1:Ht="X",kt="+";break;case-1:Ht="X",kt="-";break;case 2:Ht="Y",kt="+";break;case-2:Ht="Y",kt="-";break;case 3:Ht="Z",kt="+";break;case-3:Ht="Z",kt="-";break}switch(mt*Xt){case 1:Qt="X",$t="+";break;case-1:Qt="X",$t="-";break;case 2:Qt="Y",$t="+";break;case-2:Qt="Y",$t="-";break;case 3:Qt="Z",$t="+";break;case-3:Qt="Z",$t="-";break}return jt+Ht+Qt+Wt+kt+$t}getExtensionLocation(){return U.MAGIC_COOKIE+4}getExtensionSize(g){return N.Utils.getIntAt(g,this.getExtensionLocation(),this.littleEndian)}getExtensionCode(g){return N.Utils.getIntAt(g,this.getExtensionLocation()+4,this.littleEndian)}addExtension(g,v=-1){v==-1?this.extensions.push(g):this.extensions.splice(v,0,g),this.vox_offset+=g.esize}removeExtension(g){let v=this.extensions[g];v&&(this.vox_offset-=v.esize),this.extensions.splice(g,1)}toArrayBuffer(g=!1){let P=352;if(g)for(let R of this.extensions)P+=R.esize;let L=new Uint8Array(P),S=new DataView(L.buffer);S.setInt32(0,348,this.littleEndian),S.setUint8(39,this.dim_info);for(let R=0;R<8;R++)S.setUint16(40+2*R,this.dims[R],this.littleEndian);S.setFloat32(56,this.intent_p1,this.littleEndian),S.setFloat32(60,this.intent_p2,this.littleEndian),S.setFloat32(64,this.intent_p3,this.littleEndian),S.setInt16(68,this.intent_code,this.littleEndian),S.setInt16(70,this.datatypeCode,this.littleEndian),S.setInt16(72,this.numBitsPerVoxel,this.littleEndian),S.setInt16(74,this.slice_start,this.littleEndian);for(let R=0;R<8;R++)S.setFloat32(76+4*R,this.pixDims[R],this.littleEndian);S.setFloat32(108,this.vox_offset,this.littleEndian),S.setFloat32(112,this.scl_slope,this.littleEndian),S.setFloat32(116,this.scl_inter,this.littleEndian),S.setInt16(120,this.slice_end,this.littleEndian),S.setUint8(122,this.slice_code),S.setUint8(123,this.xyzt_units),S.setFloat32(124,this.cal_max,this.littleEndian),S.setFloat32(128,this.cal_min,this.littleEndian),S.setFloat32(132,this.slice_duration,this.littleEndian),S.setFloat32(136,this.toffset,this.littleEndian),L.set(Buffer.from(this.description),148),L.set(Buffer.from(this.aux_file),228),S.setInt16(252,this.qform_code,this.littleEndian),S.setInt16(254,this.sform_code,this.littleEndian),S.setFloat32(256,this.quatern_b,this.littleEndian),S.setFloat32(260,this.quatern_c,this.littleEndian),S.setFloat32(264,this.quatern_d,this.littleEndian),S.setFloat32(268,this.qoffset_x,this.littleEndian),S.setFloat32(272,this.qoffset_y,this.littleEndian),S.setFloat32(276,this.qoffset_z,this.littleEndian);const b=this.affine.flat();for(let R=0;R<12;R++)S.setFloat32(280+4*R,b[R],this.littleEndian);if(L.set(Buffer.from(this.intent_name),328),L.set(Buffer.from(this.magic),344),g){L.set(Uint8Array.from([1,0,0,0]),348);let R=this.getExtensionLocation();for(const Y of this.extensions)S.setInt32(R,Y.esize,Y.littleEndian),S.setInt32(R+4,Y.ecode,Y.littleEndian),L.set(new Uint8Array(Y.edata),R+8),R+=Y.esize}else L.set(new Uint8Array(4).fill(0),348);return L.buffer}};d(U,"TYPE_NONE",0),d(U,"TYPE_BINARY",1),d(U,"TYPE_UINT8",2),d(U,"TYPE_INT16",4),d(U,"TYPE_INT32",8),d(U,"TYPE_FLOAT32",16),d(U,"TYPE_COMPLEX64",32),d(U,"TYPE_FLOAT64",64),d(U,"TYPE_RGB24",128),d(U,"TYPE_INT8",256),d(U,"TYPE_UINT16",512),d(U,"TYPE_UINT32",768),d(U,"TYPE_INT64",1024),d(U,"TYPE_UINT64",1280),d(U,"TYPE_FLOAT128",1536),d(U,"TYPE_COMPLEX128",1792),d(U,"TYPE_COMPLEX256",2048),d(U,"XFORM_UNKNOWN",0),d(U,"XFORM_SCANNER_ANAT",1),d(U,"XFORM_ALIGNED_ANAT",2),d(U,"XFORM_TALAIRACH",3),d(U,"XFORM_MNI_152",4),d(U,"SPATIAL_UNITS_MASK",7),d(U,"TEMPORAL_UNITS_MASK",56),d(U,"UNITS_UNKNOWN",0),d(U,"UNITS_METER",1),d(U,"UNITS_MM",2),d(U,"UNITS_MICRON",3),d(U,"UNITS_SEC",8),d(U,"UNITS_MSEC",16),d(U,"UNITS_USEC",24),d(U,"UNITS_HZ",32),d(U,"UNITS_PPM",40),d(U,"UNITS_RADS",48),d(U,"MAGIC_COOKIE",348),d(U,"STANDARD_HEADER_SIZE",348),d(U,"MAGIC_NUMBER_LOCATION",344),d(U,"MAGIC_NUMBER",[110,43,49]),d(U,"MAGIC_NUMBER2",[110,105,49]),d(U,"EXTENSION_HEADER_SIZE",8);let F=U;w.NIFTI1=F},5911:(ni,w,It)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.NIFTI2=void 0;const N=It(2186),F=It(1415),St=class St{constructor(){d(this,"littleEndian",!1);d(this,"dim_info",0);d(this,"dims",[]);d(this,"intent_p1",0);d(this,"intent_p2",0);d(this,"intent_p3",0);d(this,"intent_code",0);d(this,"datatypeCode",0);d(this,"numBitsPerVoxel",0);d(this,"slice_start",0);d(this,"slice_end",0);d(this,"slice_code",0);d(this,"pixDims",[]);d(this,"vox_offset",0);d(this,"scl_slope",1);d(this,"scl_inter",0);d(this,"xyzt_units",0);d(this,"cal_max",0);d(this,"cal_min",0);d(this,"slice_duration",0);d(this,"toffset",0);d(this,"description","");d(this,"aux_file","");d(this,"intent_name","");d(this,"qform_code",0);d(this,"sform_code",0);d(this,"quatern_b",0);d(this,"quatern_c",0);d(this,"quatern_d",0);d(this,"qoffset_x",0);d(this,"qoffset_y",0);d(this,"qoffset_z",0);d(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);d(this,"magic","0");d(this,"extensionFlag",[0,0,0,0]);d(this,"extensions",[]);d(this,"extensionSize",0);d(this,"extensionCode",0);d(this,"getExtensionLocation",function(){return St.MAGIC_COOKIE+4});d(this,"getExtensionSize",N.NIFTI1.prototype.getExtensionSize);d(this,"getExtensionCode",N.NIFTI1.prototype.getExtensionCode);d(this,"addExtension",N.NIFTI1.prototype.addExtension);d(this,"removeExtension",N.NIFTI1.prototype.removeExtension);d(this,"getDatatypeCodeString",N.NIFTI1.prototype.getDatatypeCodeString);d(this,"getTransformCodeString",N.NIFTI1.prototype.getTransformCodeString);d(this,"getUnitsCodeString",N.NIFTI1.prototype.getUnitsCodeString);d(this,"getQformMat",N.NIFTI1.prototype.getQformMat);d(this,"convertNiftiQFormToNiftiSForm",N.NIFTI1.prototype.convertNiftiQFormToNiftiSForm);d(this,"convertNiftiSFormToNEMA",N.NIFTI1.prototype.convertNiftiSFormToNEMA);d(this,"nifti_mat33_mul",N.NIFTI1.prototype.nifti_mat33_mul);d(this,"nifti_mat33_determ",N.NIFTI1.prototype.nifti_mat33_determ)}readHeader(v){var m=new DataView(v),P=F.Utils.getIntAt(m,0,this.littleEndian),L,S,b,R,Y;if(P!==St.MAGIC_COOKIE&&(this.littleEndian=!0,P=F.Utils.getIntAt(m,0,this.littleEndian)),P!==St.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.magic=F.Utils.getStringAt(m,4,12),this.datatypeCode=F.Utils.getShortAt(m,12,this.littleEndian),this.numBitsPerVoxel=F.Utils.getShortAt(m,14,this.littleEndian),L=0;L<8;L+=1)R=16+L*8,this.dims[L]=F.Utils.getLongAt(m,R,this.littleEndian);for(this.intent_p1=F.Utils.getDoubleAt(m,80,this.littleEndian),this.intent_p2=F.Utils.getDoubleAt(m,88,this.littleEndian),this.intent_p3=F.Utils.getDoubleAt(m,96,this.littleEndian),L=0;L<8;L+=1)R=104+L*8,this.pixDims[L]=F.Utils.getDoubleAt(m,R,this.littleEndian);for(this.vox_offset=F.Utils.getLongAt(m,168,this.littleEndian),this.scl_slope=F.Utils.getDoubleAt(m,176,this.littleEndian),this.scl_inter=F.Utils.getDoubleAt(m,184,this.littleEndian),this.cal_max=F.Utils.getDoubleAt(m,192,this.littleEndian),this.cal_min=F.Utils.getDoubleAt(m,200,this.littleEndian),this.slice_duration=F.Utils.getDoubleAt(m,208,this.littleEndian),this.toffset=F.Utils.getDoubleAt(m,216,this.littleEndian),this.slice_start=F.Utils.getLongAt(m,224,this.littleEndian),this.slice_end=F.Utils.getLongAt(m,232,this.littleEndian),this.description=F.Utils.getStringAt(m,240,320),this.aux_file=F.Utils.getStringAt(m,320,344),this.qform_code=F.Utils.getIntAt(m,344,this.littleEndian),this.sform_code=F.Utils.getIntAt(m,348,this.littleEndian),this.quatern_b=F.Utils.getDoubleAt(m,352,this.littleEndian),this.quatern_c=F.Utils.getDoubleAt(m,360,this.littleEndian),this.quatern_d=F.Utils.getDoubleAt(m,368,this.littleEndian),this.qoffset_x=F.Utils.getDoubleAt(m,376,this.littleEndian),this.qoffset_y=F.Utils.getDoubleAt(m,384,this.littleEndian),this.qoffset_z=F.Utils.getDoubleAt(m,392,this.littleEndian),S=0;S<3;S+=1)for(b=0;b<4;b+=1)R=400+(S*4+b)*8,this.affine[S][b]=F.Utils.getDoubleAt(m,R,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=F.Utils.getIntAt(m,496,this.littleEndian),this.xyzt_units=F.Utils.getIntAt(m,500,this.littleEndian),this.intent_code=F.Utils.getIntAt(m,504,this.littleEndian),this.intent_name=F.Utils.getStringAt(m,508,524),this.dim_info=F.Utils.getByteAt(m,524),m.byteLength>St.MAGIC_COOKIE&&(this.extensionFlag[0]=F.Utils.getByteAt(m,540),this.extensionFlag[1]=F.Utils.getByteAt(m,541),this.extensionFlag[2]=F.Utils.getByteAt(m,542),this.extensionFlag[3]=F.Utils.getByteAt(m,543),this.extensionFlag[0]&&(this.extensions=F.Utils.getExtensionsAt(m,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode))}toFormattedString(){var v=F.Utils.formatNumber,m="";return m+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,m+="Bits Per Voxel =  = "+this.numBitsPerVoxel+`
`,m+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,m+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,m+="Voxel Dimensions (1-8): "+v(this.pixDims[0])+", "+v(this.pixDims[1])+", "+v(this.pixDims[2])+", "+v(this.pixDims[3])+", "+v(this.pixDims[4])+", "+v(this.pixDims[5])+", "+v(this.pixDims[6])+", "+v(this.pixDims[7])+`
`,m+="Image Offset = "+this.vox_offset+`
`,m+="Data Scale:  Slope = "+v(this.scl_slope)+"  Intercept = "+v(this.scl_inter)+`
`,m+="Display Range:  Max = "+v(this.cal_max)+"  Min = "+v(this.cal_min)+`
`,m+="Slice Duration = "+this.slice_duration+`
`,m+="Time Axis Shift = "+this.toffset+`
`,m+="Slice Start = "+this.slice_start+`
`,m+="Slice End = "+this.slice_end+`
`,m+='Description: "'+this.description+`"
`,m+='Auxiliary File: "'+this.aux_file+`"
`,m+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,m+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,m+="Quaternion Parameters:  b = "+v(this.quatern_b)+"  c = "+v(this.quatern_c)+"  d = "+v(this.quatern_d)+`
`,m+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,m+="S-Form Parameters X: "+v(this.affine[0][0])+", "+v(this.affine[0][1])+", "+v(this.affine[0][2])+", "+v(this.affine[0][3])+`
`,m+="S-Form Parameters Y: "+v(this.affine[1][0])+", "+v(this.affine[1][1])+", "+v(this.affine[1][2])+", "+v(this.affine[1][3])+`
`,m+="S-Form Parameters Z: "+v(this.affine[2][0])+", "+v(this.affine[2][1])+", "+v(this.affine[2][2])+", "+v(this.affine[2][3])+`
`,m+="Slice Code = "+this.slice_code+`
`,m+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(N.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(N.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,m+="Intent Code = "+this.intent_code+`
`,m+='Intent Name: "'+this.intent_name+`"
`,m+="Dim Info = "+this.dim_info+`
`,m}toArrayBuffer(v=!1){let L=544;if(v)for(let Y of this.extensions)L+=Y.esize;let S=new Uint8Array(L),b=new DataView(S.buffer);b.setInt32(0,540,this.littleEndian),S.set(Buffer.from(this.magic),4),b.setInt16(12,this.datatypeCode,this.littleEndian),b.setInt16(14,this.numBitsPerVoxel,this.littleEndian);for(let Y=0;Y<8;Y++)b.setBigInt64(16+8*Y,BigInt(this.dims[Y]),this.littleEndian);b.setFloat64(80,this.intent_p1,this.littleEndian),b.setFloat64(88,this.intent_p2,this.littleEndian),b.setFloat64(96,this.intent_p3,this.littleEndian);for(let Y=0;Y<8;Y++)b.setFloat64(104+8*Y,this.pixDims[Y],this.littleEndian);b.setBigInt64(168,BigInt(this.vox_offset),this.littleEndian),b.setFloat64(176,this.scl_slope,this.littleEndian),b.setFloat64(184,this.scl_inter,this.littleEndian),b.setFloat64(192,this.cal_max,this.littleEndian),b.setFloat64(200,this.cal_min,this.littleEndian),b.setFloat64(208,this.slice_duration,this.littleEndian),b.setFloat64(216,this.toffset,this.littleEndian),b.setBigInt64(224,BigInt(this.slice_start),this.littleEndian),b.setBigInt64(232,BigInt(this.slice_end),this.littleEndian),S.set(Buffer.from(this.description),240),S.set(Buffer.from(this.aux_file),320),b.setInt32(344,this.qform_code,this.littleEndian),b.setInt32(348,this.sform_code,this.littleEndian),b.setFloat64(352,this.quatern_b,this.littleEndian),b.setFloat64(360,this.quatern_c,this.littleEndian),b.setFloat64(368,this.quatern_d,this.littleEndian),b.setFloat64(376,this.qoffset_x,this.littleEndian),b.setFloat64(384,this.qoffset_y,this.littleEndian),b.setFloat64(392,this.qoffset_z,this.littleEndian);const R=this.affine.flat();for(let Y=0;Y<12;Y++)b.setFloat64(400+8*Y,R[Y],this.littleEndian);if(b.setInt32(496,this.slice_code,this.littleEndian),b.setInt32(500,this.xyzt_units,this.littleEndian),b.setInt32(504,this.intent_code,this.littleEndian),S.set(Buffer.from(this.intent_name),508),b.setUint8(524,this.dim_info),v){S.set(Uint8Array.from([1,0,0,0]),540);let Y=this.getExtensionLocation();for(const W of this.extensions)b.setInt32(Y,W.esize,W.littleEndian),b.setInt32(Y+4,W.ecode,W.littleEndian),S.set(new Uint8Array(W.edata),Y+8),Y+=W.esize}else S.set(new Uint8Array(4).fill(0),540);return S.buffer}};d(St,"MAGIC_COOKIE",540),d(St,"MAGIC_NUMBER_LOCATION",4),d(St,"MAGIC_NUMBER",[110,43,50,0,13,10,26,10]),d(St,"MAGIC_NUMBER2",[110,105,50,0,13,10,26,10]);let U=St;w.NIFTI2=U},1415:(ni,w,It)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.Utils=void 0;const N=It(2605),U=class U{static getStringAt(g,v,m){var P="",L,S;for(L=v;L<m;L+=1)S=g.getUint8(L),S!==0&&(P+=String.fromCharCode(S));return P}static getIntAt(g,v,m){return g.getInt32(v,m)}static getFloatAt(g,v,m){return g.getFloat32(v,m)}static getDoubleAt(g,v,m){return g.getFloat64(v,m)}static getLongAt(g,v,m){var P,L=[],S=0;for(P=0;P<8;P+=1)L[P]=U.getByteAt(g,v+P);for(P=L.length-1;P>=0;P--)S=S*256+L[P];return S}static getExtensionsAt(g,v,m,P){let L=[],S=v;for(;S<P;){let b=m,R=U.getIntAt(g,S,m);if(!R)break;if(R+S>P&&(b=!b,R=U.getIntAt(g,S,b),R+S>P))throw new Error("This does not appear to be a valid NIFTI extension");if(R%16!=0)throw new Error("This does not appear to be a NIFTI extension");let Y=U.getIntAt(g,S+4,b),W=g.buffer.slice(S+8,S+R);console.log("extensionByteIndex: "+(S+8)+" esize: "+R),console.log(W);let B=new N.NIFTIEXTENSION(R,Y,W,b);L.push(B),S+=R}return L}static toArrayBuffer(g){var v,m,P;for(v=new ArrayBuffer(g.length),m=new Uint8Array(v),P=0;P<g.length;P+=1)m[P]=g[P];return v}static isString(g){return typeof g=="string"||g instanceof String}static formatNumber(g,v=void 0){let m;return U.isString(g)?m=Number(g):m=g,v?m=m.toPrecision(5):m=m.toPrecision(7),parseFloat(m)}static makeCRCTable(){let g,v=[];for(var m=0;m<256;m++){g=m;for(var P=0;P<8;P++)g=g&1?3988292384^g>>>1:g>>>1;v[m]=g}return v}static crc32(g){U.crcTable||(U.crcTable=U.makeCRCTable());const v=U.crcTable;let m=-1;for(var P=0;P<g.byteLength;P++)m=m>>>8^v[(m^g.getUint8(P))&255];return(m^-1)>>>0}};d(U,"crcTable",null),d(U,"GUNZIP_MAGIC_COOKIE1",31),d(U,"GUNZIP_MAGIC_COOKIE2",139),d(U,"getByteAt",function(g,v){return g.getInt8(v)}),d(U,"getShortAt",function(g,v,m){return g.getInt16(v,m)});let F=U;w.Utils=F},595:(ni,w)=>{var It={},N={};N.default=function(n,e,r,l,c){var u=new Worker(It[e]||(It[e]=URL.createObjectURL(new Blob([n+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return u.onmessage=function(I){var x=I.data,Z=x.$e$;if(Z){var C=new Error(Z[0]);C.code=Z[1],C.stack=Z[2],c(C,null)}else c(null,x)},u.postMessage(r,l),u};var F=Uint8Array,U=Uint16Array,St=Int32Array,g=new F([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v=new F([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m=new F([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P=function(n,e){for(var r=new U(31),l=0;l<31;++l)r[l]=e+=1<<n[l-1];for(var c=new St(r[30]),l=1;l<30;++l)for(var u=r[l];u<r[l+1];++u)c[u]=u-r[l]<<5|l;return{b:r,r:c}},L=P(g,2),S=L.b,b=L.r;S[28]=258,b[258]=28;for(var R=P(v,0),Y=R.b,W=R.r,B=new U(32768),H=0;H<32768;++H){var yt=(H&43690)>>1|(H&21845)<<1;yt=(yt&52428)>>2|(yt&13107)<<2,yt=(yt&61680)>>4|(yt&3855)<<4,B[H]=((yt&65280)>>8|(yt&255)<<8)>>1}for(var vt=function(n,e,r){for(var l=n.length,c=0,u=new U(e);c<l;++c)n[c]&&++u[n[c]-1];var I=new U(e);for(c=1;c<e;++c)I[c]=I[c-1]+u[c-1]<<1;var x;if(r){x=new U(1<<e);var Z=15-e;for(c=0;c<l;++c)if(n[c])for(var C=c<<4|n[c],D=e-n[c],O=I[n[c]-1]++<<D,V=O|(1<<D)-1;O<=V;++O)x[B[O]>>Z]=C}else for(x=new U(l),c=0;c<l;++c)n[c]&&(x[c]=B[I[n[c]-1]++]>>15-n[c]);return x},ut=new F(288),H=0;H<144;++H)ut[H]=8;for(var H=144;H<256;++H)ut[H]=9;for(var H=256;H<280;++H)ut[H]=7;for(var H=280;H<288;++H)ut[H]=8;for(var Ft=new F(32),H=0;H<32;++H)Ft[H]=5;var Yt=vt(ut,9,0),X=vt(ut,9,1),ft=vt(Ft,5,0),J=vt(Ft,5,1),dt=function(n){for(var e=n[0],r=1;r<n.length;++r)n[r]>e&&(e=n[r]);return e},mt=function(n,e,r){var l=e/8|0;return(n[l]|n[l+1]<<8)>>(e&7)&r},Pt=function(n,e){var r=e/8|0;return(n[r]|n[r+1]<<8|n[r+2]<<16)>>(e&7)},ti=function(n){return(n+7)/8|0},Xt=function(n,e,r){return(e==null||e<0)&&(e=0),(r==null||r>n.length)&&(r=n.length),new F(n.subarray(e,r))};w.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var fi=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],k=function(n,e,r){var l=new Error(e||fi[n]);if(l.code=n,Error.captureStackTrace&&Error.captureStackTrace(l,k),!r)throw l;return l},Rt=function(n,e,r,l){var c=n.length,u=l?l.length:0;if(!c||e.f&&!e.l)return r||new F(0);var I=!r,x=I||e.i!=2,Z=e.i;I&&(r=new F(c*3));var C=function(Fi){var Ci=r.length;if(Fi>Ci){var Si=new F(Math.max(Ci*2,Fi));Si.set(r),r=Si}},D=e.f||0,O=e.p||0,V=e.b||0,gt=e.l,at=e.d,ot=e.m,Q=e.n,lt=c*8;do{if(!gt){D=mt(n,O,1);var pt=mt(n,O+1,3);if(O+=3,pt)if(pt==1)gt=X,at=J,ot=9,Q=5;else if(pt==2){var Tt=mt(n,O,31)+257,At=mt(n,O+10,15)+4,st=Tt+mt(n,O+5,31)+1;O+=14;for(var $=new F(st),Mt=new F(19),xt=0;xt<At;++xt)Mt[m[xt]]=mt(n,O+xt*3,7);O+=At*3;for(var Nt=dt(Mt),Vt=(1<<Nt)-1,Ct=vt(Mt,Nt,1),xt=0;xt<st;){var bt=Ct[mt(n,O,Vt)];O+=bt&15;var ct=bt>>4;if(ct<16)$[xt++]=ct;else{var Bt=0,wt=0;for(ct==16?(wt=3+mt(n,O,3),O+=2,Bt=$[xt-1]):ct==17?(wt=3+mt(n,O,7),O+=3):ct==18&&(wt=11+mt(n,O,127),O+=7);wt--;)$[xt++]=Bt}}var Jt=$.subarray(0,Tt),Kt=$.subarray(Tt);ot=dt(Jt),Q=dt(Kt),gt=vt(Jt,ot,1),at=vt(Kt,Q,1)}else k(1);else{var ct=ti(O)+4,tt=n[ct-4]|n[ct-3]<<8,Ut=ct+tt;if(Ut>c){Z&&k(0);break}x&&C(V+tt),r.set(n.subarray(ct,Ut),V),e.b=V+=tt,e.p=O=Ut*8,e.f=D;continue}if(O>lt){Z&&k(0);break}}x&&C(V+131072);for(var Ei=(1<<ot)-1,ei=(1<<Q)-1,ui=O;;ui=O){var Bt=gt[Pt(n,O)&Ei],si=Bt>>4;if(O+=Bt&15,O>lt){Z&&k(0);break}if(Bt||k(2),si<256)r[V++]=si;else if(si==256){ui=O,gt=null;break}else{var ai=si-254;if(si>264){var xt=si-257,Zt=g[xt];ai=mt(n,O,(1<<Zt)-1)+S[xt],O+=Zt}var ci=at[Pt(n,O)&ei],Ui=ci>>4;ci||k(3),O+=ci&15;var Kt=Y[Ui];if(Ui>3){var Zt=v[Ui];Kt+=Pt(n,O)&(1<<Zt)-1,O+=Zt}if(O>lt){Z&&k(0);break}x&&C(V+131072);var zi=V+ai;if(V<Kt){var Pi=u-Kt,Ri=Math.min(Kt,zi);for(Pi+V<0&&k(3);V<Ri;++V)r[V]=l[Pi+V]}for(;V<zi;++V)r[V]=r[V-Kt]}}e.l=gt,e.p=ui,e.b=V,e.f=D,gt&&(D=1,e.m=ot,e.d=at,e.n=Q)}while(!D);return V!=r.length&&I?Xt(r,0,V):r.subarray(0,V)},_t=function(n,e,r){r<<=e&7;var l=e/8|0;n[l]|=r,n[l+1]|=r>>8},jt=function(n,e,r){r<<=e&7;var l=e/8|0;n[l]|=r,n[l+1]|=r>>8,n[l+2]|=r>>16},Ht=function(n,e){for(var r=[],l=0;l<n.length;++l)n[l]&&r.push({s:l,f:n[l]});var c=r.length,u=r.slice();if(!c)return{t:ri,l:0};if(c==1){var I=new F(r[0].s+1);return I[r[0].s]=1,{t:I,l:1}}r.sort(function(Ut,Tt){return Ut.f-Tt.f}),r.push({s:-1,f:25001});var x=r[0],Z=r[1],C=0,D=1,O=2;for(r[0]={s:-1,f:x.f+Z.f,l:x,r:Z};D!=c-1;)x=r[r[C].f<r[O].f?C++:O++],Z=r[C!=D&&r[C].f<r[O].f?C++:O++],r[D++]={s:-1,f:x.f+Z.f,l:x,r:Z};for(var V=u[0].s,l=1;l<c;++l)u[l].s>V&&(V=u[l].s);var gt=new U(V+1),at=Qt(r[D-1],gt,0);if(at>e){var l=0,ot=0,Q=at-e,lt=1<<Q;for(u.sort(function(Tt,At){return gt[At.s]-gt[Tt.s]||Tt.f-At.f});l<c;++l){var pt=u[l].s;if(gt[pt]>e)ot+=lt-(1<<at-gt[pt]),gt[pt]=e;else break}for(ot>>=Q;ot>0;){var ct=u[l].s;gt[ct]<e?ot-=1<<e-gt[ct]++-1:++l}for(;l>=0&&ot;--l){var tt=u[l].s;gt[tt]==e&&(--gt[tt],++ot)}at=e}return{t:new F(gt),l:at}},Qt=function(n,e,r){return n.s==-1?Math.max(Qt(n.l,e,r+1),Qt(n.r,e,r+1)):e[n.s]=r},Wt=function(n){for(var e=n.length;e&&!n[--e];);for(var r=new U(++e),l=0,c=n[0],u=1,I=function(Z){r[l++]=Z},x=1;x<=e;++x)if(n[x]==c&&x!=e)++u;else{if(!c&&u>2){for(;u>138;u-=138)I(32754);u>2&&(I(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(I(c),--u;u>6;u-=6)I(8304);u>2&&(I(u-3<<5|8208),u=0)}for(;u--;)I(c);u=1,c=n[x]}return{c:r.subarray(0,l),n:e}},kt=function(n,e){for(var r=0,l=0;l<e.length;++l)r+=n[l]*e[l];return r},$t=function(n,e,r){var l=r.length,c=ti(e+2);n[c]=l&255,n[c+1]=l>>8,n[c+2]=n[c]^255,n[c+3]=n[c+1]^255;for(var u=0;u<l;++u)n[c+u+4]=r[u];return(c+4+l)*8},pi=function(n,e,r,l,c,u,I,x,Z,C,D){_t(e,D++,r),++c[256];for(var O=Ht(c,15),V=O.t,gt=O.l,at=Ht(u,15),ot=at.t,Q=at.l,lt=Wt(V),pt=lt.c,ct=lt.n,tt=Wt(ot),Ut=tt.c,Tt=tt.n,At=new U(19),st=0;st<pt.length;++st)++At[pt[st]&31];for(var st=0;st<Ut.length;++st)++At[Ut[st]&31];for(var $=Ht(At,7),Mt=$.t,xt=$.l,Nt=19;Nt>4&&!Mt[m[Nt-1]];--Nt);var Vt=C+5<<3,Ct=kt(c,ut)+kt(u,Ft)+I,bt=kt(c,V)+kt(u,ot)+I+14+3*Nt+kt(At,Mt)+2*At[16]+3*At[17]+7*At[18];if(Z>=0&&Vt<=Ct&&Vt<=bt)return $t(e,D,n.subarray(Z,Z+C));var Bt,wt,Jt,Kt;if(_t(e,D,1+(bt<Ct)),D+=2,bt<Ct){Bt=vt(V,gt,0),wt=V,Jt=vt(ot,Q,0),Kt=ot;var Ei=vt(Mt,xt,0);_t(e,D,ct-257),_t(e,D+5,Tt-1),_t(e,D+10,Nt-4),D+=14;for(var st=0;st<Nt;++st)_t(e,D+3*st,Mt[m[st]]);D+=3*Nt;for(var ei=[pt,Ut],ui=0;ui<2;++ui)for(var si=ei[ui],st=0;st<si.length;++st){var ai=si[st]&31;_t(e,D,Ei[ai]),D+=Mt[ai],ai>15&&(_t(e,D,si[st]>>5&127),D+=si[st]>>12)}}else Bt=Yt,wt=ut,Jt=ft,Kt=Ft;for(var st=0;st<x;++st){var Zt=l[st];if(Zt>255){var ai=Zt>>18&31;jt(e,D,Bt[ai+257]),D+=wt[ai+257],ai>7&&(_t(e,D,Zt>>23&31),D+=g[ai]);var ci=Zt&31;jt(e,D,Jt[ci]),D+=Kt[ci],ci>3&&(jt(e,D,Zt>>5&8191),D+=v[ci])}else jt(e,D,Bt[Zt]),D+=wt[Zt]}return jt(e,D,Bt[256]),D+wt[256]},Ii=new St([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ri=new F(0),Ai=function(n,e,r,l,c,u){var I=u.z||n.length,x=new F(l+I+5*(1+Math.ceil(I/7e3))+c),Z=x.subarray(l,x.length-c),C=u.l,D=(u.r||0)&7;if(e){D&&(Z[0]=u.r>>3);for(var O=Ii[e-1],V=O>>13,gt=O&8191,at=(1<<r)-1,ot=u.p||new U(32768),Q=u.h||new U(at+1),lt=Math.ceil(r/3),pt=2*lt,ct=function(ki){return(n[ki]^n[ki+1]<<lt^n[ki+2]<<pt)&at},tt=new St(25e3),Ut=new U(288),Tt=new U(32),At=0,st=0,$=u.i||0,Mt=0,xt=u.w||0,Nt=0;$+2<I;++$){var Vt=ct($),Ct=$&32767,bt=Q[Vt];if(ot[Ct]=bt,Q[Vt]=Ct,xt<=$){var Bt=I-$;if((At>7e3||Mt>24576)&&(Bt>423||!C)){D=pi(n,Z,0,tt,Ut,Tt,st,Mt,Nt,$-Nt,D),Mt=At=st=0,Nt=$;for(var wt=0;wt<286;++wt)Ut[wt]=0;for(var wt=0;wt<30;++wt)Tt[wt]=0}var Jt=2,Kt=0,Ei=gt,ei=Ct-bt&32767;if(Bt>2&&Vt==ct($-ei))for(var ui=Math.min(V,Bt)-1,si=Math.min(32767,$),ai=Math.min(258,Bt);ei<=si&&--Ei&&Ct!=bt;){if(n[$+Jt]==n[$+Jt-ei]){for(var Zt=0;Zt<ai&&n[$+Zt]==n[$+Zt-ei];++Zt);if(Zt>Jt){if(Jt=Zt,Kt=ei,Zt>ui)break;for(var ci=Math.min(ei,Zt-2),Ui=0,wt=0;wt<ci;++wt){var zi=$-ei+wt&32767,Pi=ot[zi],Ri=zi-Pi&32767;Ri>Ui&&(Ui=Ri,bt=zi)}}}Ct=bt,bt=ot[Ct],ei+=Ct-bt&32767}if(Kt){tt[Mt++]=268435456|b[Jt]<<18|W[Kt];var Fi=b[Jt]&31,Ci=W[Kt]&31;st+=g[Fi]+v[Ci],++Ut[257+Fi],++Tt[Ci],xt=$+Jt,++At}else tt[Mt++]=n[$],++Ut[n[$]]}}for($=Math.max($,xt);$<I;++$)tt[Mt++]=n[$],++Ut[n[$]];D=pi(n,Z,C,tt,Ut,Tt,st,Mt,Nt,$-Nt,D),C||(u.r=D&7|Z[D/8|0]<<3,D-=7,u.h=Q,u.p=ot,u.i=$,u.w=xt)}else{for(var $=u.w||0;$<I+C;$+=65535){var Si=$+65535;Si>=I&&(Z[D/8|0]=C,Si=I),D=$t(Z,D+1,n.subarray($,Si))}u.i=I}return Xt(x,0,l+ti(D)+c)},xi=function(){for(var n=new Int32Array(256),e=0;e<256;++e){for(var r=e,l=9;--l;)r=(r&1&&-306674912)^r>>>1;n[e]=r}return n}(),oi=function(){var n=-1;return{p:function(e){for(var r=n,l=0;l<e.length;++l)r=xi[r&255^e[l]]^r>>>8;n=r},d:function(){return~n}}},di=function(){var n=1,e=0;return{p:function(r){for(var l=n,c=e,u=r.length|0,I=0;I!=u;){for(var x=Math.min(I+2655,u);I<x;++I)c+=l+=r[I];l=(l&65535)+15*(l>>16),c=(c&65535)+15*(c>>16)}n=l,e=c},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},hi=function(n,e,r,l,c){if(!c&&(c={l:1},e.dictionary)){var u=e.dictionary.subarray(-32768),I=new F(u.length+n.length);I.set(u),I.set(n,u.length),n=I,c.w=u.length}return Ai(n,e.level==null?6:e.level,e.mem==null?c.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,r,l,c)},vi=function(n,e){var r={};for(var l in n)r[l]=n[l];for(var l in e)r[l]=e[l];return r},t=function(n,e,r){for(var l=n(),c=n.toString(),u=c.slice(c.indexOf("[")+1,c.lastIndexOf("]")).replace(/\s+/g,"").split(","),I=0;I<l.length;++I){var x=l[I],Z=u[I];if(typeof x=="function"){e+=";"+Z+"=";var C=x.toString();if(x.prototype)if(C.indexOf("[native code]")!=-1){var D=C.indexOf(" ",8)+1;e+=C.slice(D,C.indexOf("(",D))}else{e+=C;for(var O in x.prototype)e+=";"+Z+".prototype."+O+"="+x.prototype[O].toString()}else e+=C}else r[Z]=x}return e},i=[],s=function(n){var e=[];for(var r in n)n[r].buffer&&e.push((n[r]=new n[r].constructor(n[r])).buffer);return e},a=function(n,e,r,l){if(!i[r]){for(var c="",u={},I=n.length-1,x=0;x<I;++x)c=t(n[x],c,u);i[r]={c:t(n[I],c,u),e:u}}var Z=vi({},i[r].e);return(0,N.default)(i[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",r,Z,s(Z),l)},f=function(){return[F,U,St,g,v,m,S,Y,X,J,B,fi,vt,dt,mt,Pt,ti,Xt,k,Rt,li,A,z]},h=function(){return[F,U,St,g,v,m,b,W,Yt,ut,ft,Ft,B,Ii,ri,vt,_t,jt,Ht,Qt,Wt,kt,$t,pi,ti,Xt,Ai,hi,qt,A]},o=function(){return[rt,it,K,oi,xi]},y=function(){return[et,nt]},p=function(){return[Ot,K,di]},M=function(){return[Dt]},A=function(n){return postMessage(n,[n.buffer])},z=function(n){return n&&{out:n.size&&new F(n.size),dictionary:n.dictionary}},T=function(n,e,r,l,c,u){var I=a(r,l,c,function(x,Z){I.terminate(),u(x,Z)});return I.postMessage([n,e],e.consume?[n.buffer]:[]),function(){I.terminate()}},_=function(n){return n.ondata=function(e,r){return postMessage([e,r],[e.buffer])},function(e){e.data.length?(n.push(e.data[0],e.data[1]),postMessage([e.data[0].length])):n.flush()}},G=function(n,e,r,l,c,u,I){var x,Z=a(n,l,c,function(C,D){C?(Z.terminate(),e.ondata.call(e,C)):Array.isArray(D)?D.length==1?(e.queuedSize-=D[0],e.ondrain&&e.ondrain(D[0])):(D[1]&&Z.terminate(),e.ondata.call(e,C,D[0],D[1])):I(D)});Z.postMessage(r),e.queuedSize=0,e.push=function(C,D){e.ondata||k(5),x&&e.ondata(k(4,0,1),null,!!D),e.queuedSize+=C.length,Z.postMessage([C,x=D],[C.buffer])},e.terminate=function(){Z.terminate()},u&&(e.flush=function(){Z.postMessage([])})},q=function(n,e){return n[e]|n[e+1]<<8},E=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},j=function(n,e){return E(n,e)+E(n,e+4)*4294967296},K=function(n,e,r){for(;r;++e)n[e]=r,r>>>=8},rt=function(n,e){var r=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&K(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),r){n[3]=8;for(var l=0;l<=r.length;++l)n[l+10]=r.charCodeAt(l)}},et=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&k(6,"invalid gzip data");var e=n[3],r=10;e&4&&(r+=(n[10]|n[11]<<8)+2);for(var l=(e>>3&1)+(e>>4&1);l>0;l-=!n[r++]);return r+(e&2)},nt=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},it=function(n){return 10+(n.filename?n.filename.length+1:0)},Ot=function(n,e){var r=e.level,l=r==0?0:r<6?1:r==9?3:2;if(n[0]=120,n[1]=l<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var c=di();c.p(e.dictionary),K(n,2,c.d())}},Dt=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&k(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&k(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function zt(n,e){return typeof n=="function"&&(e=n,n={}),this.ondata=e,n}var Et=function(){function n(e,r){if(typeof e=="function"&&(r=e,e={}),this.ondata=r,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new F(98304),this.o.dictionary){var l=this.o.dictionary.subarray(-32768);this.b.set(l,32768-l.length),this.s.i=32768-l.length}}return n.prototype.p=function(e,r){this.ondata(hi(e,this.o,0,0,this.s),r)},n.prototype.push=function(e,r){this.ondata||k(5),this.s.l&&k(4);var l=e.length+this.s.z;if(l>this.b.length){if(l>2*this.b.length-32768){var c=new F(l&-32768);c.set(this.b.subarray(0,this.s.z)),this.b=c}var u=this.b.length-this.s.z;this.b.set(e.subarray(0,u),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(u),32768),this.s.z=e.length-u+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=r&1,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||k(5),this.s.l&&k(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();w.Deflate=Et;var Lt=function(){function n(e,r){G([h,function(){return[_,Et]}],this,zt.call(this,e,r),function(l){var c=new Et(l.data);onmessage=_(c)},6,1)}return n}();w.AsyncDeflate=Lt;function Gt(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),T(n,e,[h],function(l){return A(qt(l.data[0],l.data[1]))},0,r)}w.deflate=Gt;function qt(n,e){return hi(n,e||{},0,0)}w.deflateSync=qt;var ht=function(){function n(e,r){typeof e=="function"&&(r=e,e={}),this.ondata=r;var l=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:l?l.length:0},this.o=new F(32768),this.p=new F(0),l&&this.o.set(l)}return n.prototype.e=function(e){if(this.ondata||k(5),this.d&&k(4),!this.p.length)this.p=e;else if(e.length){var r=new F(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length),this.p=r}},n.prototype.c=function(e){this.s.i=+(this.d=e||!1);var r=this.s.b,l=Rt(this.p,this.s,this.o);this.ondata(Xt(l,r,this.s.b),this.d),this.o=Xt(l,this.s.b-32768),this.s.b=this.o.length,this.p=Xt(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(e,r){this.e(e),this.c(r)},n}();w.Inflate=ht;var ii=function(){function n(e,r){G([f,function(){return[_,ht]}],this,zt.call(this,e,r),function(l){var c=new ht(l.data);onmessage=_(c)},7,0)}return n}();w.AsyncInflate=ii;function gi(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),T(n,e,[f],function(l){return A(li(l.data[0],z(l.data[1])))},1,r)}w.inflate=gi;function li(n,e){return Rt(n,{i:2},e&&e.out,e&&e.dictionary)}w.inflateSync=li;var Mi=function(){function n(e,r){this.c=oi(),this.l=0,this.v=1,Et.call(this,e,r)}return n.prototype.push=function(e,r){this.c.p(e),this.l+=e.length,Et.prototype.push.call(this,e,r)},n.prototype.p=function(e,r){var l=hi(e,this.o,this.v&&it(this.o),r&&8,this.s);this.v&&(rt(l,this.o),this.v=0),r&&(K(l,l.length-8,this.c.d()),K(l,l.length-4,this.l)),this.ondata(l,r)},n.prototype.flush=function(){Et.prototype.flush.call(this)},n}();w.Gzip=Mi,w.Compress=Mi;var Ti=function(){function n(e,r){G([h,o,function(){return[_,Et,Mi]}],this,zt.call(this,e,r),function(l){var c=new Mi(l.data);onmessage=_(c)},8,1)}return n}();w.AsyncGzip=Ti,w.AsyncCompress=Ti;function Ki(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),T(n,e,[h,o,function(){return[Ni]}],function(l){return A(Ni(l.data[0],l.data[1]))},2,r)}w.gzip=Ki,w.compress=Ki;function Ni(n,e){e||(e={});var r=oi(),l=n.length;r.p(n);var c=hi(n,e,it(e),8),u=c.length;return rt(c,e),K(c,u-8,r.d()),K(c,u-4,l),c}w.gzipSync=Ni,w.compressSync=Ni;var Di=function(){function n(e,r){this.v=1,this.r=0,ht.call(this,e,r)}return n.prototype.push=function(e,r){if(ht.prototype.e.call(this,e),this.r+=e.length,this.v){var l=this.p.subarray(this.v-1),c=l.length>3?et(l):4;if(c>l.length){if(!r)return}else this.v>1&&this.onmember&&this.onmember(this.r-l.length);this.p=l.subarray(c),this.v=0}ht.prototype.c.call(this,r),this.s.f&&!this.s.l&&!r&&(this.v=ti(this.s.p)+9,this.s={i:0},this.o=new F(0),this.push(new F(0),r))},n}();w.Gunzip=Di;var Hi=function(){function n(e,r){var l=this;G([f,y,function(){return[_,ht,Di]}],this,zt.call(this,e,r),function(c){var u=new Di(c.data);u.onmember=function(I){return postMessage(I)},onmessage=_(u)},9,0,function(c){return l.onmember&&l.onmember(c)})}return n}();w.AsyncGunzip=Hi;function Qi(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),T(n,e,[f,y,function(){return[Oi]}],function(l){return A(Oi(l.data[0],l.data[1]))},3,r)}w.gunzip=Qi;function Oi(n,e){var r=et(n);return r+8>n.length&&k(6,"invalid gzip data"),Rt(n.subarray(r,-8),{i:2},e&&e.out||new F(nt(n)),e&&e.dictionary)}w.gunzipSync=Oi;var Li=function(){function n(e,r){this.c=di(),this.v=1,Et.call(this,e,r)}return n.prototype.push=function(e,r){this.c.p(e),Et.prototype.push.call(this,e,r)},n.prototype.p=function(e,r){var l=hi(e,this.o,this.v&&(this.o.dictionary?6:2),r&&4,this.s);this.v&&(Ot(l,this.o),this.v=0),r&&K(l,l.length-4,this.c.d()),this.ondata(l,r)},n.prototype.flush=function(){Et.prototype.flush.call(this)},n}();w.Zlib=Li;var le=function(){function n(e,r){G([h,p,function(){return[_,Et,Li]}],this,zt.call(this,e,r),function(l){var c=new Li(l.data);onmessage=_(c)},10,1)}return n}();w.AsyncZlib=le;function fe(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),T(n,e,[h,p,function(){return[Gi]}],function(l){return A(Gi(l.data[0],l.data[1]))},4,r)}w.zlib=fe;function Gi(n,e){e||(e={});var r=di();r.p(n);var l=hi(n,e,e.dictionary?6:2,4);return Ot(l,e),K(l,l.length-4,r.d()),l}w.zlibSync=Gi;var Bi=function(){function n(e,r){ht.call(this,e,r),this.v=e&&e.dictionary?2:1}return n.prototype.push=function(e,r){if(ht.prototype.e.call(this,e),this.v){if(this.p.length<6&&!r)return;this.p=this.p.subarray(Dt(this.p,this.v-1)),this.v=0}r&&(this.p.length<4&&k(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),ht.prototype.c.call(this,r)},n}();w.Unzlib=Bi;var Wi=function(){function n(e,r){G([f,M,function(){return[_,ht,Bi]}],this,zt.call(this,e,r),function(l){var c=new Bi(l.data);onmessage=_(c)},11,0)}return n}();w.AsyncUnzlib=Wi;function $i(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),T(n,e,[f,M,function(){return[qi]}],function(l){return A(qi(l.data[0],z(l.data[1])))},5,r)}w.unzlib=$i;function qi(n,e){return Rt(n.subarray(Dt(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}w.unzlibSync=qi;var Zi=function(){function n(e,r){this.o=zt.call(this,e,r)||{},this.G=Di,this.I=ht,this.Z=Bi}return n.prototype.i=function(){var e=this;this.s.ondata=function(r,l){e.ondata(r,l)}},n.prototype.push=function(e,r){if(this.ondata||k(5),this.s)this.s.push(e,r);else{if(this.p&&this.p.length){var l=new F(this.p.length+e.length);l.set(this.p),l.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,r),this.p=null)}},n}();w.Decompress=Zi;var he=function(){function n(e,r){Zi.call(this,e,r),this.queuedSize=0,this.G=Hi,this.I=ii,this.Z=Wi}return n.prototype.i=function(){var e=this;this.s.ondata=function(r,l,c){e.ondata(r,l,c)},this.s.ondrain=function(r){e.queuedSize-=r,e.ondrain&&e.ondrain(r)}},n.prototype.push=function(e,r){this.queuedSize+=e.length,Zi.prototype.push.call(this,e,r)},n}();w.AsyncDecompress=he;function oe(n,e,r){return r||(r=e,e={}),typeof r!="function"&&k(7),n[0]==31&&n[1]==139&&n[2]==8?Qi(n,e,r):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?gi(n,e,r):$i(n,e,r)}w.decompress=oe;function ce(n,e){return n[0]==31&&n[1]==139&&n[2]==8?Oi(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?li(n,e):qi(n,e)}w.decompressSync=ce;var Yi=function(n,e,r,l){for(var c in n){var u=n[c],I=e+c,x=l;Array.isArray(u)&&(x=vi(l,u[1]),u=u[0]),u instanceof F?r[I]=[u,x]:(r[I+="/"]=[new F(0),x],Yi(u,I,r,l))}},Ji=typeof TextEncoder<"u"&&new TextEncoder,Xi=typeof TextDecoder<"u"&&new TextDecoder,te=0;try{Xi.decode(ri,{stream:!0}),te=1}catch{}var ie=function(n){for(var e="",r=0;;){var l=n[r++],c=(l>127)+(l>223)+(l>239);if(r+c>n.length)return{s:e,r:Xt(n,r-1)};c?c==3?(l=((l&15)<<18|(n[r++]&63)<<12|(n[r++]&63)<<6|n[r++]&63)-65536,e+=String.fromCharCode(55296|l>>10,56320|l&1023)):c&1?e+=String.fromCharCode((l&31)<<6|n[r++]&63):e+=String.fromCharCode((l&15)<<12|(n[r++]&63)<<6|n[r++]&63):e+=String.fromCharCode(l)}},ve=function(){function n(e){this.ondata=e,te?this.t=new TextDecoder:this.p=ri}return n.prototype.push=function(e,r){if(this.ondata||k(5),r=!!r,this.t){this.ondata(this.t.decode(e,{stream:!0}),r),r&&(this.t.decode().length&&k(8),this.t=null);return}this.p||k(4);var l=new F(this.p.length+e.length);l.set(this.p),l.set(e,this.p.length);var c=ie(l),u=c.s,I=c.r;r?(I.length&&k(8),this.p=null):this.p=I,this.ondata(u,r)},n}();w.DecodeUTF8=ve;var ge=function(){function n(e){this.ondata=e}return n.prototype.push=function(e,r){this.ondata||k(5),this.d&&k(4),this.ondata(mi(e),this.d=r||!1)},n}();w.EncodeUTF8=ge;function mi(n,e){if(e){for(var r=new F(n.length),l=0;l<n.length;++l)r[l]=n.charCodeAt(l);return r}if(Ji)return Ji.encode(n);for(var c=n.length,u=new F(n.length+(n.length>>1)),I=0,x=function(D){u[I++]=D},l=0;l<c;++l){if(I+5>u.length){var Z=new F(I+8+(c-l<<1));Z.set(u),u=Z}var C=n.charCodeAt(l);C<128||e?x(C):C<2048?(x(192|C>>6),x(128|C&63)):C>55295&&C<57344?(C=65536+(C&1047552)|n.charCodeAt(++l)&1023,x(240|C>>18),x(128|C>>12&63),x(128|C>>6&63),x(128|C&63)):(x(224|C>>12),x(128|C>>6&63),x(128|C&63))}return Xt(u,0,I)}w.strToU8=mi;function Vi(n,e){if(e){for(var r="",l=0;l<n.length;l+=16384)r+=String.fromCharCode.apply(null,n.subarray(l,l+16384));return r}else{if(Xi)return Xi.decode(n);var c=ie(n),u=c.s,r=c.r;return r.length&&k(8),u}}w.strFromU8=Vi;var ee=function(n){return n==1?3:n<6?2:n==9?1:0},ne=function(n,e){return e+30+q(n,e+26)+q(n,e+28)},re=function(n,e,r){var l=q(n,e+28),c=Vi(n.subarray(e+46,e+46+l),!(q(n,e+8)&2048)),u=e+46+l,I=E(n,e+20),x=r&&I==4294967295?se(n,u):[I,E(n,e+24),E(n,e+42)],Z=x[0],C=x[1],D=x[2];return[q(n,e+10),Z,C,c,u+q(n,e+30)+q(n,e+32),D]},se=function(n,e){for(;q(n,e)!=1;e+=4+q(n,e+2));return[j(n,e+12),j(n,e+4),j(n,e+20)]},yi=function(n){var e=0;if(n)for(var r in n){var l=n[r].length;l>65535&&k(9),e+=l+4}return e},_i=function(n,e,r,l,c,u,I,x){var Z=l.length,C=r.extra,D=x&&x.length,O=yi(C);K(n,e,I!=null?33639248:67324752),e+=4,I!=null&&(n[e++]=20,n[e++]=r.os),n[e]=20,e+=2,n[e++]=r.flag<<1|(u<0&&8),n[e++]=c&&8,n[e++]=r.compression&255,n[e++]=r.compression>>8;var V=new Date(r.mtime==null?Date.now():r.mtime),gt=V.getFullYear()-1980;if((gt<0||gt>119)&&k(10),K(n,e,gt<<25|V.getMonth()+1<<21|V.getDate()<<16|V.getHours()<<11|V.getMinutes()<<5|V.getSeconds()>>1),e+=4,u!=-1&&(K(n,e,r.crc),K(n,e+4,u<0?-u-2:u),K(n,e+8,r.size)),K(n,e+12,Z),K(n,e+14,O),e+=16,I!=null&&(K(n,e,D),K(n,e+6,r.attrs),K(n,e+10,I),e+=14),n.set(l,e),e+=Z,O)for(var at in C){var ot=C[at],Q=ot.length;K(n,e,+at),K(n,e+2,Q),n.set(ot,e+4),e+=4+Q}return D&&(n.set(x,e),e+=D),e},ji=function(n,e,r,l,c){K(n,e,101010256),K(n,e+8,r),K(n,e+10,r),K(n,e+12,l),K(n,e+16,c)},wi=function(){function n(e){this.filename=e,this.c=oi(),this.size=0,this.compression=0}return n.prototype.process=function(e,r){this.ondata(null,e,r)},n.prototype.push=function(e,r){this.ondata||k(5),this.c.p(e),this.size+=e.length,r&&(this.crc=this.c.d()),this.process(e,r||!1)},n}();w.ZipPassThrough=wi;var ue=function(){function n(e,r){var l=this;r||(r={}),wi.call(this,e),this.d=new Et(r,function(c,u){l.ondata(null,c,u)}),this.compression=8,this.flag=ee(r.level)}return n.prototype.process=function(e,r){try{this.d.push(e,r)}catch(l){this.ondata(l,null,r)}},n.prototype.push=function(e,r){wi.prototype.push.call(this,e,r)},n}();w.ZipDeflate=ue;var de=function(){function n(e,r){var l=this;r||(r={}),wi.call(this,e),this.d=new Lt(r,function(c,u,I){l.ondata(c,u,I)}),this.compression=8,this.flag=ee(r.level),this.terminate=this.d.terminate}return n.prototype.process=function(e,r){this.d.push(e,r)},n.prototype.push=function(e,r){wi.prototype.push.call(this,e,r)},n}();w.AsyncZipDeflate=de;var me=function(){function n(e){this.ondata=e,this.u=[],this.d=1}return n.prototype.add=function(e){var r=this;if(this.ondata||k(5),this.d&2)this.ondata(k(4+(this.d&1)*8,0,1),null,!1);else{var l=mi(e.filename),c=l.length,u=e.comment,I=u&&mi(u),x=c!=e.filename.length||I&&u.length!=I.length,Z=c+yi(e.extra)+30;c>65535&&this.ondata(k(11,0,1),null,!1);var C=new F(Z);_i(C,0,e,l,x,-1);var D=[C],O=function(){for(var Q=0,lt=D;Q<lt.length;Q++){var pt=lt[Q];r.ondata(null,pt,!1)}D=[]},V=this.d;this.d=0;var gt=this.u.length,at=vi(e,{f:l,u:x,o:I,t:function(){e.terminate&&e.terminate()},r:function(){if(O(),V){var Q=r.u[gt+1];Q?Q.r():r.d=1}V=1}}),ot=0;e.ondata=function(Q,lt,pt){if(Q)r.ondata(Q,lt,pt),r.terminate();else if(ot+=lt.length,D.push(lt),pt){var ct=new F(16);K(ct,0,134695760),K(ct,4,e.crc),K(ct,8,ot),K(ct,12,e.size),D.push(ct),at.c=ot,at.b=Z+ot+16,at.crc=e.crc,at.size=e.size,V&&at.r(),V=1}else V&&O()},this.u.push(at)}},n.prototype.end=function(){var e=this;if(this.d&2){this.ondata(k(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var e=0,r=0,l=0,c=0,u=this.u;c<u.length;c++){var I=u[c];l+=46+I.f.length+yi(I.extra)+(I.o?I.o.length:0)}for(var x=new F(l+22),Z=0,C=this.u;Z<C.length;Z++){var I=C[Z];_i(x,e,I,I.f,I.u,-I.c-2,r,I.o),e+=46+I.f.length+yi(I.extra)+(I.o?I.o.length:0),r+=I.b}ji(x,e,this.u.length,l,r),this.ondata(null,x,!0),this.d=2},n.prototype.terminate=function(){for(var e=0,r=this.u;e<r.length;e++){var l=r[e];l.t()}this.d=2},n}();w.Zip=me;function ye(n,e,r){r||(r=e,e={}),typeof r!="function"&&k(7);var l={};Yi(n,"",l,e);var c=Object.keys(l),u=c.length,I=0,x=0,Z=u,C=new Array(u),D=[],O=function(){for(var Q=0;Q<D.length;++Q)D[Q]()},V=function(Q,lt){bi(function(){r(Q,lt)})};bi(function(){V=r});var gt=function(){var Q=new F(x+22),lt=I,pt=x-I;x=0;for(var ct=0;ct<Z;++ct){var tt=C[ct];try{var Ut=tt.c.length;_i(Q,x,tt,tt.f,tt.u,Ut);var Tt=30+tt.f.length+yi(tt.extra),At=x+Tt;Q.set(tt.c,At),_i(Q,I,tt,tt.f,tt.u,Ut,x,tt.m),I+=16+Tt+(tt.m?tt.m.length:0),x=At+Ut}catch(st){return V(st,null)}}ji(Q,I,C.length,pt,lt),V(null,Q)};u||gt();for(var at=function(Q){var lt=c[Q],pt=l[lt],ct=pt[0],tt=pt[1],Ut=oi(),Tt=ct.length;Ut.p(ct);var At=mi(lt),st=At.length,$=tt.comment,Mt=$&&mi($),xt=Mt&&Mt.length,Nt=yi(tt.extra),Vt=tt.level==0?0:8,Ct=function(bt,Bt){if(bt)O(),V(bt,null);else{var wt=Bt.length;C[Q]=vi(tt,{size:Tt,crc:Ut.d(),c:Bt,f:At,m:Mt,u:st!=lt.length||Mt&&$.length!=xt,compression:Vt}),I+=30+st+Nt+wt,x+=76+2*(st+Nt)+(xt||0)+wt,--u||gt()}};if(st>65535&&Ct(k(11,0,1),null),!Vt)Ct(null,ct);else if(Tt<16e4)try{Ct(null,qt(ct,tt))}catch(bt){Ct(bt,null)}else D.push(Gt(ct,tt,Ct))},ot=0;ot<Z;++ot)at(ot);return O}w.zip=ye;function pe(n,e){e||(e={});var r={},l=[];Yi(n,"",r,e);var c=0,u=0;for(var I in r){var x=r[I],Z=x[0],C=x[1],D=C.level==0?0:8,O=mi(I),V=O.length,gt=C.comment,at=gt&&mi(gt),ot=at&&at.length,Q=yi(C.extra);V>65535&&k(11);var lt=D?qt(Z,C):Z,pt=lt.length,ct=oi();ct.p(Z),l.push(vi(C,{size:Z.length,crc:ct.d(),c:lt,f:O,m:at,u:V!=I.length||at&&gt.length!=ot,o:c,compression:D})),c+=30+V+Q+pt,u+=76+2*(V+Q)+(ot||0)+pt}for(var tt=new F(u+22),Ut=c,Tt=u-c,At=0;At<l.length;++At){var O=l[At];_i(tt,O.o,O,O.f,O.u,O.c.length);var st=30+O.f.length+yi(O.extra);tt.set(O.c,O.o+st),_i(tt,c,O,O.f,O.u,O.c.length,O.o,O.m),c+=16+st+(O.m?O.m.length:0)}return ji(tt,c,l.length,Tt,Ut),tt}w.zipSync=pe;var ae=function(){function n(){}return n.prototype.push=function(e,r){this.ondata(null,e,r)},n.compression=0,n}();w.UnzipPassThrough=ae;var Me=function(){function n(){var e=this;this.i=new ht(function(r,l){e.ondata(null,r,l)})}return n.prototype.push=function(e,r){try{this.i.push(e,r)}catch(l){this.ondata(l,null,r)}},n.compression=8,n}();w.UnzipInflate=Me;var Ee=function(){function n(e,r){var l=this;r<32e4?this.i=new ht(function(c,u){l.ondata(null,c,u)}):(this.i=new ii(function(c,u,I){l.ondata(c,u,I)}),this.terminate=this.i.terminate)}return n.prototype.push=function(e,r){this.i.terminate&&(e=Xt(e,0)),this.i.push(e,r)},n.compression=8,n}();w.AsyncUnzipInflate=Ee;var Ie=function(){function n(e){this.onfile=e,this.k=[],this.o={0:ae},this.p=ri}return n.prototype.push=function(e,r){var l=this;if(this.onfile||k(5),this.p||k(4),this.c>0){var c=Math.min(this.c,e.length),u=e.subarray(0,c);if(this.c-=c,this.d?this.d.push(u,!this.c):this.k[0].push(u),e=e.subarray(c),e.length)return this.push(e,r)}else{var I=0,x=0,Z=void 0,C=void 0;this.p.length?e.length?(C=new F(this.p.length+e.length),C.set(this.p),C.set(e,this.p.length)):C=this.p:C=e;for(var D=C.length,O=this.c,V=O&&this.d,gt=function(){var lt,pt=E(C,x);if(pt==67324752){I=1,Z=x,at.d=null,at.c=0;var ct=q(C,x+6),tt=q(C,x+8),Ut=ct&2048,Tt=ct&8,At=q(C,x+26),st=q(C,x+28);if(D>x+30+At+st){var $=[];at.k.unshift($),I=2;var Mt=E(C,x+18),xt=E(C,x+22),Nt=Vi(C.subarray(x+30,x+=30+At),!Ut);Mt==4294967295?(lt=Tt?[-2]:se(C,x),Mt=lt[0],xt=lt[1]):Tt&&(Mt=-1),x+=st,at.c=Mt;var Vt,Ct={name:Nt,compression:tt,start:function(){if(Ct.ondata||k(5),!Mt)Ct.ondata(null,ri,!0);else{var bt=l.o[tt];bt||Ct.ondata(k(14,"unknown compression type "+tt,1),null,!1),Vt=Mt<0?new bt(Nt):new bt(Nt,Mt,xt),Vt.ondata=function(Kt,Ei,ei){Ct.ondata(Kt,Ei,ei)};for(var Bt=0,wt=$;Bt<wt.length;Bt++){var Jt=wt[Bt];Vt.push(Jt,!1)}l.k[0]==$&&l.c?l.d=Vt:Vt.push(ri,!0)}},terminate:function(){Vt&&Vt.terminate&&Vt.terminate()}};Mt>=0&&(Ct.size=Mt,Ct.originalSize=xt),at.onfile(Ct)}return"break"}else if(O){if(pt==134695760)return Z=x+=12+(O==-2&&8),I=3,at.c=0,"break";if(pt==33639248)return Z=x-=4,I=3,at.c=0,"break"}},at=this;x<D-4;++x){var ot=gt();if(ot==="break")break}if(this.p=ri,O<0){var Q=I?C.subarray(0,Z-12-(O==-2&&8)-(E(C,Z-16)==134695760&&4)):C.subarray(0,x);V?V.push(Q,!!I):this.k[+(I==2)].push(Q)}if(I&2)return this.push(C.subarray(x),r);this.p=C.subarray(x)}r&&(this.c&&k(13),this.p=null)},n.prototype.register=function(e){this.o[e.compression]=e},n}();w.Unzip=Ie;var bi=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(n){n()};function Ae(n,e,r){r||(r=e,e={}),typeof r!="function"&&k(7);var l=[],c=function(){for(var Q=0;Q<l.length;++Q)l[Q]()},u={},I=function(Q,lt){bi(function(){r(Q,lt)})};bi(function(){I=r});for(var x=n.length-22;E(n,x)!=101010256;--x)if(!x||n.length-x>65558)return I(k(13,0,1),null),c;var Z=q(n,x+8);if(Z){var C=Z,D=E(n,x+16),O=D==4294967295||C==65535;if(O){var V=E(n,x-12);O=E(n,V)==101075792,O&&(C=Z=E(n,V+32),D=E(n,V+48))}for(var gt=e&&e.filter,at=function(Q){var lt=re(n,D,O),pt=lt[0],ct=lt[1],tt=lt[2],Ut=lt[3],Tt=lt[4],At=lt[5],st=ne(n,At);D=Tt;var $=function(xt,Nt){xt?(c(),I(xt,null)):(Nt&&(u[Ut]=Nt),--Z||I(null,u))};if(!gt||gt({name:Ut,size:ct,originalSize:tt,compression:pt}))if(!pt)$(null,Xt(n,st,st+ct));else if(pt==8){var Mt=n.subarray(st,st+ct);if(tt<524288||ct>.8*tt)try{$(null,li(Mt,{out:new F(tt)}))}catch(xt){$(xt,null)}else l.push(gi(Mt,{size:tt},$))}else $(k(14,"unknown compression type "+pt,1),null);else $(null,null)},ot=0;ot<C;++ot)at(ot)}else I(null,{});return c}w.unzip=Ae;function xe(n,e){for(var r={},l=n.length-22;E(n,l)!=101010256;--l)(!l||n.length-l>65558)&&k(13);var c=q(n,l+8);if(!c)return{};var u=E(n,l+16),I=u==4294967295||c==65535;if(I){var x=E(n,l-12);I=E(n,x)==101075792,I&&(c=E(n,x+32),u=E(n,x+48))}for(var Z=e&&e.filter,C=0;C<c;++C){var D=re(n,u,I),O=D[0],V=D[1],gt=D[2],at=D[3],ot=D[4],Q=D[5],lt=ne(n,Q);u=ot,(!Z||Z({name:at,size:V,originalSize:gt,compression:O}))&&(O?O==8?r[at]=li(n.subarray(lt,lt+V),{out:new F(gt)}):k(14,"unknown compression type "+O):r[at]=Xt(n,lt,lt+V))}return r}w.unzipSync=xe}};export{Se as id,Te as ids,we as modules};

//# sourceMappingURL=108.0a5667e8aa66afecd11a.js.map