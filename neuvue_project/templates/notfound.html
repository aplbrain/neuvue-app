{% load static %}

<head>
    <script type="text/javascript">
        var address_to_model ="{% static 'mesh/axolotl.glb' %}"; // Pass this variable to .js file
    </script>
</head>
<body>

</body>

<script type="module">
    import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r127/build/three.module.js';
    import {GLTFLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r127/examples/jsm/loaders/GLTFLoader.js';

    const scene = new THREE.Scene();
    console.log(scene)
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    var clock = new THREE.Clock();
    var dt = 0;
    var light = new THREE.AmbientLight(0xf6e86d);

    scene.add(light);






    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    console.log("kk")
    var loader = new GLTFLoader();
    loader.load(address_to_model, function (gltf) {
        var model = gltf.scene;
        console.log(model);
        var mixer = new THREE.AnimationMixer(model);
        console.log(mixer);
        var clip1 = gltf.animations[0];
        var action1 = mixer.clipAction(clip1);
        action1.play();
    });

  //  var start = () => {
  //      renderer.setAnimationLoop(() => {
  //          // render a frame
  //          // ... in render loop
  //          dt = clock.getDelta()
  //          mixer.update(dt);

  //          renderer.render(this.scene, this.camera);
  //      });
  //  }

  //  var stop = () => {
  //      renderer.setAnimationLoop(null);
  //  }

  //  start();
//request animation frame can be used as well as set animation loop
//function render(){
//  requestAnimationFrame(render);
//
//  delta = clock.getDelta();
//  object.position.z += speed * delta;
//
//  renderer.render(scene, camera);
//}
//
//render();

</script>